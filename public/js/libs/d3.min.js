!function(){function i(e){return e&&(e.ownerDocument||e.document||e).documentElement}function a(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function p(e,t){return t>e?-1:e>t?1:e>=t?0:NaN}function d(e){return null===e?NaN:+e}function g(e){return!isNaN(e)}function m(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}function y(e){return e.length}function b(e){for(var t=1;e*t%1;)t*=10;return t}function E(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function x(){this._=Object.create(null)}function L(e){return(e+="")===w||e[0]===T?T+e:e}function A(e){return(e+="")[0]===T?e.slice(1):e}function S(e){return L(e)in this._}function R(e){return(e=L(e))in this._&&delete this._[e]}function C(){var e=[];for(var t in this._)e.push(A(t));return e}function N(){var e=0;for(var t in this._)++e;return e}function P(){for(var e in this._)return!1;return!0}function O(){this._=Object.create(null)}function M(e){return e}function k(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function I(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=D.length;r>n;++n){var i=D[n]+t;if(i in e)return i}}function q(){}function B(){}function U(e){function r(){for(var a,n=t,r=-1,i=n.length;++r<i;)(a=n[r].on)&&a.apply(this,arguments);return e}var t=[],n=new x;return r.on=function(r,i){var o,a=n.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,t=t.slice(0,o=t.indexOf(a)).concat(t.slice(o+1)),n.remove(r)),i&&t.push(n.set(r,{on:i})),e)},r}function F(){e.event.preventDefault()}function j(){for(var n,t=e.event;n=t.sourceEvent;)t=n;return t}function G(t){for(var n=new B,r=0,i=arguments.length;++r<i;)n[arguments[r]]=U(n);return n.of=function(r,i){return function(a){try{var o=a.sourceEvent=e.event;a.target=t,e.event=a,n[a.type].apply(r,i)}finally{e.event=o}}},n}function $(e){return z(e,Y),e}function K(e){return"function"==typeof e?e:function(){return W(e,this)}}function X(e){return"function"==typeof e?e:function(){return V(e,this)}}function ee(t,n){function r(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function a(){this.setAttribute(t,n)}function o(){this.setAttributeNS(t.space,t.local,n)}function s(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}function u(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}return t=e.ns.qualify(t),null==n?t.local?i:r:"function"==typeof n?t.local?u:s:t.local?o:a}function te(e){return e.trim().replace(/\s+/g," ")}function ne(t){return new RegExp("(?:^|\\s+)"+e.requote(t)+"(?:\\s+|$)","g")}function re(e){return(e+"").trim().split(/^|\s+/)}function ie(e,t){function r(){for(var r=-1;++r<n;)e[r](this,t)}function i(){for(var r=-1,i=t.apply(this,arguments);++r<n;)e[r](this,i)}e=re(e).map(ae);var n=e.length;return"function"==typeof t?i:r}function ae(e){var t=ne(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",te(i+" "+e))):n.setAttribute("class",te(i.replace(t," ")))}}function oe(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function a(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?a:i}function se(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?i:r}function ue(t){function n(){var e=this.ownerDocument,n=this.namespaceURI;return n===Q&&e.documentElement.namespaceURI===Q?e.createElement(t):e.createElementNS(n,t)}function r(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=e.ns.qualify(t)).local?r:n}function le(){var e=this.parentNode;e&&e.removeChild(this)}function ce(e){return{__data__:e}}function fe(e){return function(){return Z(this,e)}}function he(e){return arguments.length||(e=p),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function pe(e,t){for(var n=0,r=e.length;r>n;n++)for(var s,i=e[n],a=0,o=i.length;o>a;a++)(s=i[a])&&t(s,a,n);return e}function de(e){return z(e,ge),e}function me(e){var t,n;return function(r,i,a){var u,o=e[a].update,s=o.length;for(a!=n&&(n=a,t=0),i>=t&&(t=i+1);!(u=o[t])&&++t<s;);return u}}function ve(t,r,i){function l(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function c(){var e=s(r,n(arguments));l.call(this),this.addEventListener(t,this[a]=e,e.$=i),e._=r}function f(){var r,n=new RegExp("^__on([^.]+)"+e.requote(t)+"$");for(var i in this)if(r=i.match(n)){var a=this[i];this.removeEventListener(r[1],a,a.$),delete this[i]}}var a="__on"+t,o=t.indexOf("."),s=_e;o>0&&(t=t.slice(0,o));var u=ye.get(t);return u&&(t=u,s=be),o?r?c:l:r?q:f}function _e(t,n){return function(r){var i=e.event;e.event=r,n[0]=this.__data__;try{t.apply(this,n)}finally{e.event=i}}}function be(e,t){var n=_e(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function we(t){var n=".dragsuppress-"+ ++xe,r="click"+n,o=e.select(a(t)).on("touchmove"+n,F).on("dragstart"+n,F).on("selectstart"+n,F);if(null==Ee&&(Ee="onselectstart"in t?!1:I(t.style,"userSelect")),Ee){var s=i(t).style,u=s[Ee];s[Ee]="none"}return function(e){if(o.on(n,null),Ee&&(s[Ee]=u),e){var t=function(){o.on(r,null)};o.on(r,function(){F(),t()},!0),setTimeout(t,0)}}}function Le(t,n){n.changedTouches&&(n=n.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();if(0>Te){var o=a(t);if(o.scrollX||o.scrollY){r=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var s=r[0][0].getScreenCTM();Te=!(s.f||s.e),r.remove()}}return Te?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var u=t.getBoundingClientRect();return[n.clientX-u.left-t.clientLeft,n.clientY-u.top-t.clientTop]}function Ae(){return e.event.changedTouches[0].identifier}function Ie(e){return e>0?1:0>e?-1:0}function De(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function qe(e){return e>1?0:-1>e?Ce:Math.acos(e)}function Be(e){return e>1?Oe:-1>e?-Oe:Math.asin(e)}function Ue(e){return((e=Math.exp(e))-1/e)/2}function Fe(e){return((e=Math.exp(e))+1/e)/2}function je(e){return((e=Math.exp(2*e))-1)/(e+1)}function Ge(e){return(e=Math.sin(e/2))*e}function Ye(){}function Ke(e,t,n){return this instanceof Ke?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof Ke?new Ke(e.h,e.s,e.l):yt(""+e,_t,Ke):new Ke(e,t,n)}function Qe(e,t,n){function a(e){return e>360?e-=360:0>e&&(e+=360),60>e?r+(i-r)*e/60:180>e?i:240>e?r+(i-r)*(240-e)/60:r}function o(e){return Math.round(255*a(e))}var r,i;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,i=.5>=n?n*(1+t):n+t-n*t,r=2*n-i,new pt(o(e+120),o(e),o(e-120))}function Je(t,n,r){return this instanceof Je?(this.h=+t,this.c=+n,void(this.l=+r)):arguments.length<2?t instanceof Je?new Je(t.h,t.c,t.l):t instanceof nt?lt(t.l,t.a,t.b):lt((t=bt((t=e.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Je(t,n,r)}function tt(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new nt(n,Math.cos(e*=Me)*t,Math.sin(e)*t)}function nt(e,t,n){return this instanceof nt?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof nt?new nt(e.l,e.a,e.b):e instanceof Je?tt(e.h,e.c,e.l):bt((e=pt(e)).r,e.g,e.b):new nt(e,t,n)}function ut(e,t,n){var r=(e+16)/116,i=r+t/500,a=r-n/200;return i=ct(i)*it,r=ct(r)*at,a=ct(a)*ot,new pt(ht(3.2404542*i-1.5371385*r-.4985314*a),ht(-.969266*i+1.8760108*r+.041556*a),ht(.0556434*i-.2040259*r+1.0572252*a))}function lt(e,t,n){return e>0?new Je(Math.atan2(n,t)*ke,Math.sqrt(t*t+n*n),e):new Je(NaN,NaN,e)}function ct(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function ft(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ht(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function pt(e,t,n){return this instanceof pt?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof pt?new pt(e.r,e.g,e.b):yt(""+e,pt,Qe):new pt(e,t,n)}function dt(e){return new pt(e>>16,e>>8&255,255&e)}function gt(e){return dt(e)+""}function vt(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function yt(e,t,n){var o,s,u,r=0,i=0,a=0;if(o=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(s=o[2].split(","),o[1]){case"hsl":return n(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100);case"rgb":return t(xt(s[0]),xt(s[1]),xt(s[2]))}return(u=wt.get(e))?t(u.r,u.g,u.b):(null==e||"#"!==e.charAt(0)||isNaN(u=parseInt(e.slice(1),16))||(4===e.length?(r=(3840&u)>>4,r=r>>4|r,i=240&u,i=i>>4|i,a=15&u,a=a<<4|a):7===e.length&&(r=(16711680&u)>>16,i=(65280&u)>>8,a=255&u)),t(r,i,a))}function _t(e,t,n){var o,s,r=Math.min(e/=255,t/=255,n/=255),i=Math.max(e,t,n),a=i-r,u=(i+r)/2;return a?(s=.5>u?a/(i+r):a/(2-i-r),o=e==i?(t-n)/a+(n>t?6:0):t==i?(n-e)/a+2:(e-t)/a+4,o*=60):(o=NaN,s=u>0&&1>u?0:o),new Ke(o,s,u)}function bt(e,t,n){e=Et(e),t=Et(t),n=Et(n);var r=ft((.4124564*e+.3575761*t+.1804375*n)/it),i=ft((.2126729*e+.7151522*t+.072175*n)/at),a=ft((.0193339*e+.119192*t+.9503041*n)/ot);return nt(116*i-16,500*(r-i),200*(i-a))}function Et(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function xt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function Tt(e){return"function"==typeof e?e:function(){return e}}function Lt(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),At(t,n,e,r)}}function At(t,r,i,a){function f(){var t,e=l.status;if(!e&&Rt(l)||e>=200&&300>e||304===e){try{t=i.call(o,l)}catch(n){return void s.error.call(o,n)}s.load.call(o,t)}else s.error.call(o,l)}var o={},s=e.dispatch("beforesend","progress","load","error"),u={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=f:l.onreadystatechange=function(){l.readyState>3&&f()},l.onprogress=function(t){var n=e.event;e.event=t;try{s.progress.call(o,l)}finally{e.event=n}},o.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?u[e]:(null==t?delete u[e]:u[e]=t+"",o)},o.mimeType=function(e){return arguments.length?(r=null==e?null:e+"",o):r},o.responseType=function(e){return arguments.length?(c=e,o):c},o.response=function(e){return i=e,o},["get","post"].forEach(function(e){o[e]=function(){return o.send.apply(o,[e].concat(n(arguments)))}}),o.send=function(e,n,i){if(2===arguments.length&&"function"==typeof n&&(i=n,n=null),l.open(e,t,!0),null==r||"accept"in u||(u.accept=r+",*/*"),l.setRequestHeader)for(var a in u)l.setRequestHeader(a,u[a]);return null!=r&&l.overrideMimeType&&l.overrideMimeType(r),null!=c&&(l.responseType=c),null!=i&&o.on("error",i).on("load",function(e){i(null,e)}),s.beforesend.call(o,l),l.send(null==n?null:n),o},o.abort=function(){return l.abort(),o},e.rebind(o,s,"on"),null==a?o:o.get(St(a))}function St(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Rt(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function kt(e,t,n){var r=arguments.length;2>r&&(t=0),3>r&&(n=Date.now());var i=n+t,a={c:e,t:i,n:null};return Nt?Nt.n=a:Ct=a,Nt=a,Pt||(Ot=clearTimeout(Ot),Pt=1,Mt(It)),a}function It(){var e=Dt(),t=qt()-e;t>24?(isFinite(t)&&(clearTimeout(Ot),Ot=setTimeout(It,t)),Pt=0):(Pt=1,Mt(It))}function Dt(){for(var e=Date.now(),t=Ct;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function qt(){for(var e,t=Ct,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:Ct=t.n;return Nt=e,n}function Bt(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Ft(e,t){var n=Math.pow(10,3*_(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function jt(t){var n=t.decimal,r=t.thousands,i=t.grouping,a=t.currency,o=i&&r?function(e,t){for(var n=e.length,a=[],o=0,s=i[0],u=0;n>0&&s>0&&(u+s+1>t&&(s=Math.max(1,t-u)),a.push(e.substring(n-=s,n+s)),!((u+=s+1)>t));)s=i[o=(o+1)%i.length];return a.reverse().join(r)}:M;return function(t){var r=Gt.exec(t),i=r[1]||" ",s=r[2]||">",u=r[3]||"-",l=r[4]||"",c=r[5],f=+r[6],h=r[7],p=r[8],d=r[9],g=1,m="",v="",y=!1,_=!0;switch(p&&(p=+p.substring(1)),(c||"0"===i&&"="===s)&&(c=i="0",s="="),d){case"n":h=!0,d="g";break;case"%":g=100,v="%",d="f";break;case"p":g=100,v="%",d="r";break;case"b":case"o":case"x":case"X":"#"===l&&(m="0"+d.toLowerCase());case"c":_=!1;case"d":y=!0,p=0;break;case"s":g=-1,d="r"}"$"===l&&(m=a[0],v=a[1]),"r"!=d||p||(d="g"),null!=p&&("g"==d?p=Math.max(1,Math.min(21,p)):("e"==d||"f"==d)&&(p=Math.max(0,Math.min(20,p)))),d=Ht.get(d)||zt;var b=c&&h;return function(t){var r=v;if(y&&t%1)return"";var a=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===u?"":u;if(0>g){var l=e.formatPrefix(t,p);t=l.scale(t),r=l.symbol+v}else t*=g;t=d(t,p);var x,w,E=t.lastIndexOf(".");if(0>E){var T=_?t.lastIndexOf("e"):-1;0>T?(x=t,w=""):(x=t.substring(0,T),w=t.substring(T))}else x=t.substring(0,E),w=n+t.substring(E+1);!c&&h&&(x=o(x,1/0));var L=m.length+x.length+w.length+(b?0:a.length),A=f>L?new Array(L=f-L+1).join(i):"";return b&&(x=o(A+x,A.length?f-w.length:1/0)),a+=m,t=x+w,("<"===s?a+t+A:">"===s?A+a+t:"^"===s?A.substring(0,L>>=1)+a+t+A.substring(L):a+(b?t:A+t))+r}}}function zt(e){return e+""}function Vt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Yt(e,t,n){function r(t){var n=e(t),r=a(n,1);return r-t>t-n?n:r}function i(n){return t(n=e(new Wt(n-1)),1),n}function a(e,n){return t(e=new Wt(+e),n),e}function o(e,r,a){var o=i(e),s=[];if(a>1)for(;r>o;)n(o)%a||s.push(new Date(+o)),t(o,1);else for(;r>o;)s.push(new Date(+o)),t(o,1);return s}function s(e,t,n){try{Wt=Vt;var r=new Vt;return r._=e,o(r,t,n)}finally{Wt=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=a,e.range=o;var u=e.utc=Kt(e);return u.floor=u,u.round=Kt(r),u.ceil=Kt(i),u.offset=Kt(a),u.range=s,e}function Kt(e){return function(t,n){try{Wt=Vt;var r=new Vt;return r._=t,e(r,n)._}finally{Wt=Date}}}function Xt(t){function c(e){function n(n){for(var o,s,u,r=[],i=-1,a=0;++i<t;)37===e.charCodeAt(i)&&(r.push(e.slice(a,i)),null!=(s=Qt[o=e.charAt(++i)])&&(o=e.charAt(++i)),(u=E[o])&&(o=u(n,null==s?"e"===o?" ":"0":s)),r.push(o),a=i+1);return r.push(e.slice(a,i)),r.join("")}var t=e.length;return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=f(n,e,t,0);if(r!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=null!=n.Z&&Wt!==Vt,a=new(i?Vt:Wt);return"j"in n?a.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),a.setFullYear(n.y,0,1),a.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(a.getDay()+5)%7:n.w+7*n.U-(a.getDay()+6)%7)):a.setFullYear(n.y,n.m,n.d),a.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),i?a._:a},n.toString=function(){return e},n}function f(e,t,n,r){for(var i,a,o,s=0,u=t.length,l=n.length;u>s;){if(r>=l)return-1;if(i=t.charCodeAt(s++),37===i){if(o=t.charAt(s++),a=x[o in Qt?t.charAt(s++):o],!a||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function w(e,t,n){g.lastIndex=0;var r=g.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1}function T(e,t,n){p.lastIndex=0;var r=p.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1}function L(e,t,n){_.lastIndex=0;var r=_.exec(t.slice(n));return r?(e.m=b.get(r[0].toLowerCase()),n+r[0].length):-1}function A(e,t,n){v.lastIndex=0;var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1}function S(e,t,n){return f(e,E.c.toString(),t,n)}function R(e,t,n){return f(e,E.x.toString(),t,n)}function C(e,t,n){return f(e,E.X.toString(),t,n)}function N(e,t,n){var r=h.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var n=t.dateTime,r=t.date,i=t.time,a=t.periods,o=t.days,s=t.shortDays,u=t.months,l=t.shortMonths;c.utc=function(e){function n(e){try{Wt=Vt;var n=new Wt;return n._=e,t(n)}finally{Wt=Date}}var t=c(e);return n.parse=function(e){try{Wt=Vt;var n=t.parse(e);return n&&n._}finally{Wt=Date}},n.toString=t.toString,n},c.multi=c.utc.multi=En;var h=e.map(),p=nn(o),d=rn(o),g=nn(s),m=rn(s),v=nn(u),y=rn(u),_=nn(l),b=rn(l);a.forEach(function(e,t){h.set(e.toLowerCase(),t)});var E={a:function(e){return s[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return u[e.getMonth()]},c:c(n),d:function(e,t){return tn(e.getDate(),t,2)},e:function(e,t){return tn(e.getDate(),t,2)},H:function(e,t){return tn(e.getHours(),t,2)},I:function(e,t){return tn(e.getHours()%12||12,t,2)},j:function(e,t){return tn(1+$t.dayOfYear(e),t,3)},L:function(e,t){return tn(e.getMilliseconds(),t,3)},m:function(e,t){return tn(e.getMonth()+1,t,2)},M:function(e,t){return tn(e.getMinutes(),t,2)},p:function(e){return a[+(e.getHours()>=12)]},S:function(e,t){return tn(e.getSeconds(),t,2)},U:function(e,t){return tn($t.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return tn($t.mondayOfYear(e),t,2)},x:c(r),X:c(i),y:function(e,t){return tn(e.getFullYear()%100,t,2)},Y:function(e,t){return tn(e.getFullYear()%1e4,t,4)},Z:_n,"%":function(){return"%"}},x={a:w,A:T,b:L,B:A,c:S,d:pn,e:pn,H:gn,I:gn,j:dn,L:yn,m:hn,M:mn,p:N,S:vn,U:on,w:an,W:sn,x:R,X:C,y:ln,Y:un,Z:cn,"%":bn};return c}function tn(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",a=i.length;return r+(n>a?new Array(n-a+1).join(t)+i:i)}function nn(t){return new RegExp("^(?:"+t.map(e.requote).join("|")+")","i")}function rn(e){for(var t=new x,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function an(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function on(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function sn(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function un(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ln(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+2));return r?(e.y=fn(+r[0]),n+r[0].length):-1}function cn(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function fn(e){return e+(e>68?1900:2e3)}function hn(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function pn(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function dn(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function gn(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function mn(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function vn(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function yn(e,t,n){Jt.lastIndex=0;var r=Jt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function _n(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=_(t)/60|0,i=_(t)%60;return n+tn(r,"0",2)+tn(i,"0",2)}function bn(e,t,n){en.lastIndex=0;var r=en.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function En(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function wn(){}function Ln(e,t,n){var r=n.s=e+t,i=r-e,a=r-i;n.t=e-a+(t-i)}function An(e,t){e&&Rn.hasOwnProperty(e.type)&&Rn[e.type](e,t)}function Cn(e,t,n){var a,r=-1,i=e.length-n;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function Nn(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Cn(e[n],t,1);t.polygonEnd()}function kn(){function a(e,t){e*=Me,t=t*Me/2+Ce/4;var a=e-n,o=a>=0?1:-1,s=o*a,u=Math.cos(t),l=Math.sin(t),c=i*l,f=r*u+c*Math.cos(s),h=c*o*Math.sin(s);On.add(Math.atan2(h,f)),n=e,r=u,i=l}var e,t,n,r,i;Mn.point=function(o,s){Mn.point=a,n=(e=o)*Me,r=Math.cos(s=(t=s)*Me/2+Ce/4),i=Math.sin(s)},Mn.lineEnd=function(){a(e,t)}}function In(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function Dn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function qn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Bn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Un(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Fn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function jn(e){return[Math.atan2(e[1],e[0]),Be(e[2])]}function Gn(e,t){return _(e[0]-t[0])<Se&&_(e[1]-t[1])<Se}function tr(e,t){e*=Me;var n=Math.cos(t*=Me);nr(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function nr(e,t,n){++Hn,$n+=(e-$n)/Hn,Wn+=(t-Wn)/Hn,Vn+=(n-Vn)/Hn}function rr(){function r(r,i){r*=Me;var a=Math.cos(i*=Me),o=a*Math.cos(r),s=a*Math.sin(r),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=t*u-n*s)*l+(l=n*o-e*u)*l+(l=e*s-t*o)*l),e*o+t*s+n*u);zn+=l,Zn+=l*(e+(e=o)),Yn+=l*(t+(t=s)),Kn+=l*(n+(n=u)),nr(e,t,n)}var e,t,n;er.point=function(i,a){i*=Me;var o=Math.cos(a*=Me);e=o*Math.cos(i),t=o*Math.sin(i),n=Math.sin(a),er.point=r,nr(e,t,n)}}function ir(){er.point=tr}function ar(){function a(e,t){e*=Me;var a=Math.cos(t*=Me),o=a*Math.cos(e),s=a*Math.sin(e),u=Math.sin(t),l=r*u-i*s,c=i*o-n*u,f=n*s-r*o,h=Math.sqrt(l*l+c*c+f*f),p=n*o+r*s+i*u,d=h&&-qe(p)/h,g=Math.atan2(h,p);Xn+=d*l,Qn+=d*c,Jn+=d*f,zn+=g,Zn+=g*(n+(n=o)),Yn+=g*(r+(r=s)),Kn+=g*(i+(i=u)),nr(n,r,i)}var e,t,n,r,i;er.point=function(o,s){e=o,t=s,er.point=a,o*=Me;var u=Math.cos(s*=Me);n=u*Math.cos(o),r=u*Math.sin(o),i=Math.sin(s),nr(n,r,i)},er.lineEnd=function(){a(e,t),er.lineEnd=ir,er.point=tr}}function or(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function sr(){return!0}function ur(e,t,n,r,i){var a=[],o=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(Gn(n,r)){i.lineStart();for(var s=0;t>s;++s)i.point((n=e[s])[0],n[1]);return void i.lineEnd()}var u=new cr(n,e,null,!0),l=new cr(n,null,u,!1);u.o=l,a.push(u),o.push(l),u=new cr(r,e,null,!1),l=new cr(r,null,u,!0),u.o=l,a.push(u),o.push(l)}}),o.sort(t),lr(a),lr(o),a.length){for(var s=0,u=n,l=o.length;l>s;++s)o[s].e=u=!u;for(var f,h,c=a[0];;){for(var p=c,d=!0;p.v;)if((p=p.n)===c)return;f=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(var s=0,l=f.length;l>s;++s)i.point((h=f[s])[0],h[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d){f=p.p.z;for(var s=f.length-1;s>=0;--s)i.point((h=f[s])[0],h[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,f=p.z,d=!d}while(!p.v);i.lineEnd()}}}function lr(e){if(t=e.length){for(var t,i,n=0,r=e[0];++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function cr(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function fr(t,n,r,i){return function(a,o){function c(e,n){var r=a(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function f(e,t){var n=a(e,t);s.point(n[0],n[1])}function h(){l.point=f,s.lineStart()}function p(){l.point=c,s.lineEnd()}function b(e,t){_.push([e,t]);var n=a(e,t);m.point(n[0],n[1])}function E(){m.lineStart(),_=[]}function x(){b(_[0][0],_[0][1]),m.lineEnd();var n,e=m.clean(),t=g.buffer(),r=t.length;if(_.pop(),y.push(_),_=null,r)if(1&e){n=t[0];var a,r=n.length-1,i=-1;if(r>0){for(v||(o.polygonStart(),v=!0),o.lineStart();++i<r;)o.point((a=n[i])[0],a[1]);o.lineEnd()}}else r>1&&2&e&&t.push(t.pop().concat(t.shift())),d.push(t.filter(hr))}var d,y,_,s=n(o),u=a.invert(i[0],i[1]),l={point:c,lineStart:h,lineEnd:p,polygonStart:function(){l.point=b,l.lineStart=E,l.lineEnd=x,d=[],y=[]},polygonEnd:function(){l.point=c,l.lineStart=h,l.lineEnd=p,d=e.merge(d);var t=_r(u,y);d.length?(v||(o.polygonStart(),v=!0),ur(d,dr,t,r,o)):t&&(v||(o.polygonStart(),v=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),v&&(o.polygonEnd(),v=!1),d=y=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}},g=pr(),m=n(g),v=!1;return l}}function hr(e){return e.length>1}function pr(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:q,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function dr(e,t){return((e=e.x)[0]<0?e[1]-Oe-Se:Oe-e[1])-((t=t.x)[0]<0?t[1]-Oe-Se:Oe-t[1])}function mr(e){var i,t=NaN,n=NaN,r=NaN;return{lineStart:function(){e.lineStart(),i=1},point:function(a,o){var s=a>0?Ce:-Ce,u=_(a-t);_(u-Ce)<Se?(e.point(t,n=(n+o)/2>0?Oe:-Oe),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(a,n),i=0):r!==s&&u>=Ce&&(_(t-r)<Se&&(t-=r*Se),_(a-s)<Se&&(a-=s*Se),n=vr(t,n,a,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),i=0),e.point(t=a,n=o),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function vr(e,t,n,r){var i,a,o=Math.sin(e-n);return _(o)>Se?Math.atan((Math.sin(t)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*a*o)):(t+r)/2}function yr(e,t,n,r){var i;if(null==e)i=n*Oe,r.point(-Ce,i),r.point(0,i),r.point(Ce,i),r.point(Ce,0),r.point(Ce,-i),r.point(0,-i),r.point(-Ce,-i),r.point(-Ce,0),r.point(-Ce,i);else if(_(e[0]-t[0])>Se){var a=e[0]<t[0]?Ce:-Ce;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function _r(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],a=0,o=0;On.reset();for(var s=0,u=t.length;u>s;++s){var l=t[s],c=l.length;if(c)for(var f=l[0],h=f[0],p=f[1]/2+Ce/4,d=Math.sin(p),g=Math.cos(p),m=1;;){m===c&&(m=0),e=l[m];var v=e[0],y=e[1]/2+Ce/4,_=Math.sin(y),b=Math.cos(y),E=v-h,x=E>=0?1:-1,w=x*E,T=w>Ce,L=d*_;if(On.add(Math.atan2(L*x*Math.sin(w),g*b+L*Math.cos(w))),a+=T?E+x*Ne:E,T^h>=n^v>=n){var A=qn(In(f),In(e));Fn(A);var S=qn(i,A);Fn(S);var R=(T^E>=0?-1:1)*Be(S[2]);(r>R||r===R&&(A[0]||A[1]))&&(o+=T^E>=0?1:-1)}if(!m++)break;h=v,d=_,g=b,f=e}}return(-Se>a||Se>a&&0>On)^1&o}function br(e){function a(e,n){return Math.cos(e)*Math.cos(n)>t}function o(e){var t,i,o,l,c;return{lineStart:function(){l=o=!1,c=1},point:function(f,h){var d,p=[f,h],g=a(f,h),m=n?g?0:u(f,h):g?u(f+(0>f?Ce:-Ce),h):0;if(!t&&(l=o=g)&&e.lineStart(),g!==o&&(d=s(t,p),(Gn(t,d)||Gn(p,d))&&(p[0]+=Se,p[1]+=Se,g=a(p[0],p[1]))),g!==o)c=0,g?(e.lineStart(),d=s(p,t),e.point(d[0],d[1])):(d=s(t,p),e.point(d[0],d[1]),e.lineEnd()),t=d;else if(r&&t&&n^g){var v;m&i||!(v=s(p,t,!0))||(c=0,n?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!g||t&&Gn(t,p)||e.point(p[0],p[1]),t=p,o=g,i=m},lineEnd:function(){o&&e.lineEnd(),t=null},clean:function(){return c|(l&&o)<<1}}}function s(e,n,r){var i=In(e),a=In(n),o=[1,0,0],s=qn(i,a),u=Dn(s,s),l=s[0],c=u-l*l;if(!c)return!r&&e;var f=t*u/c,h=-t*l/c,p=qn(o,s),d=Un(o,f),g=Un(s,h);Bn(d,g);var m=p,v=Dn(d,m),y=Dn(m,m),b=v*v-y*(Dn(d,d)-1);if(!(0>b)){var E=Math.sqrt(b),x=Un(m,(-v-E)/y);if(Bn(x,d),x=jn(x),!r)return x;var S,w=e[0],T=n[0],L=e[1],A=n[1];w>T&&(S=w,w=T,T=S);var R=T-w,C=_(R-Ce)<Se,N=C||Se>R;if(!C&&L>A&&(S=L,L=A,A=S),N?C?L+A>0^x[1]<(_(x[0]-w)<Se?L:A):L<=x[1]&&x[1]<=A:R>Ce^(w<=x[0]&&x[0]<=T)){var P=Un(m,(-v+E)/y);return Bn(P,d),[x,jn(P)]}}}function u(t,r){var i=n?e:Ce-e,a=0;return-i>t?a|=1:t>i&&(a|=2),-i>r?a|=4:r>i&&(a|=8),a}var t=Math.cos(e),n=t>0,r=_(t)>Se,i=ri(e,6*Me);return fr(a,o,i,n?[0,-e]:[-Ce,e-Ce])}function Er(e,t,n,r){return function(i){var g,a=i.a,o=i.b,s=a.x,u=a.y,l=o.x,c=o.y,f=0,h=1,p=l-s,d=c-u;if(g=e-s,p||!(g>0)){if(g/=p,0>p){if(f>g)return;h>g&&(h=g)}else if(p>0){if(g>h)return;g>f&&(f=g)}if(g=n-s,p||!(0>g)){if(g/=p,0>p){if(g>h)return;g>f&&(f=g)}else if(p>0){if(f>g)return;h>g&&(h=g)}if(g=t-u,d||!(g>0)){if(g/=d,0>d){if(f>g)return;h>g&&(h=g)}else if(d>0){if(g>h)return;g>f&&(f=g)}if(g=r-u,d||!(0>g)){if(g/=d,0>d){if(g>h)return;g>f&&(f=g)}else if(d>0){if(f>g)return;h>g&&(h=g)}return f>0&&(i.a={x:s+f*p,y:u+f*d}),1>h&&(i.b={x:s+h*p,y:u+h*d}),i}}}}}}function wr(t,n,r,i){function a(e,i){return _(e[0]-t)<Se?i>0?0:3:_(e[0]-r)<Se?i>0?2:1:_(e[1]-n)<Se?i>0?1:0:i>0?3:2}function o(e,t){return s(e.x,t.x)}function s(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(u){function m(e){for(var t=0,n=p.length,r=e[1],i=0;n>i;++i)for(var l,a=1,o=p[i],s=o.length,u=o[0];s>a;++a)l=o[a],u[1]<=r?l[1]>r&&De(u,l,e)>0&&++t:l[1]<=r&&De(u,l,e)<0&&--t,u=l;return 0!==t}function v(e,o,u,l){var c=0,f=0;if(null==e||(c=a(e,u))!==(f=a(o,u))||s(e,o)<0^u>0){do l.point(0===c||3===c?t:r,c>1?i:n);while((c=(c+u+4)%4)!==f)}else l.point(o[0],o[1])}function y(e,a){return e>=t&&r>=e&&a>=n&&i>=a}function _(e,t){y(e,t)&&u.point(e,t)}function R(){g.point=N,p&&p.push(d=[]),A=!0,L=!1,w=T=NaN}function C(){h&&(N(b,E),x&&L&&c.rejoin(),h.push(c.buffer())),g.point=_,L&&u.lineEnd()}function N(e,t){e=Math.max(-xr,Math.min(xr,e)),t=Math.max(-xr,Math.min(xr,t));var n=y(e,t);if(p&&d.push([e,t]),A)b=e,E=t,x=n,A=!1,n&&(u.lineStart(),u.point(e,t));else if(n&&L)u.point(e,t);else{var r={a:{x:w,y:T},b:{x:e,y:t}};f(r)?(L||(u.lineStart(),u.point(r.a.x,r.a.y)),u.point(r.b.x,r.b.y),n||u.lineEnd(),S=!1):n&&(u.lineStart(),u.point(e,t),S=!1)}w=e,T=t,L=n}var h,p,d,b,E,x,w,T,L,A,S,l=u,c=pr(),f=Er(t,n,r,i),g={point:_,lineStart:R,lineEnd:C,polygonStart:function(){u=c,h=[],p=[],S=!0},polygonEnd:function(){u=l,h=e.merge(h);var n=m([t,i]),r=S&&n,a=h.length;(r||a)&&(u.polygonStart(),r&&(u.lineStart(),v(null,null,1,u),u.lineEnd()),a&&ur(h,o,n,v,u),u.polygonEnd()),h=p=d=null}};return g}}function Tr(e){var t=0,n=Ce/3,r=Yr(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Ce/180,n=e[1]*Ce/180):[t/Ce*180,n/Ce*180]},i}function Lr(e,t){function o(e,t){var n=Math.sqrt(i-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),a-n*Math.cos(e)]}var n=Math.sin(e),r=(n+Math.sin(t))/2,i=1+n*(2*r-n),a=Math.sqrt(i)/r;return o.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/r,Be((i-(e*e+n*n)*r*r)/(2*r))]},o}function Cr(){function i(e,t){Sr+=r*e-n*t,n=e,r=t}var e,t,n,r;Rr.point=function(a,o){Rr.point=i,e=n=a,t=r=o},Rr.lineEnd=function(){i(e,t)}}function Ir(e,t){Nr>e&&(Nr=e),e>Or&&(Or=e),Pr>t&&(Pr=t),t>Mr&&(Mr=t)}function Dr(){function r(n,r){t.push("M",n,",",r,e)}function i(e,r){t.push("M",e,",",r),n.point=a}function a(e,n){t.push("L",e,",",n)}function o(){n.point=r}function s(){t.push("Z")}var e=qr(4.5),t=[],n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(t){return e=qr(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};return n}function qr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Ur(e,t){$n+=e,Wn+=t,++Vn}function Fr(){function n(n,r){var i=n-e,a=r-t,o=Math.sqrt(i*i+a*a);Zn+=o*(e+n)/2,Yn+=o*(t+r)/2,Kn+=o,Ur(e=n,t=r)}var e,t;Br.point=function(r,i){Br.point=n,Ur(e=r,t=i)}}function jr(){Br.point=Ur}function Gr(){function i(e,t){var i=e-n,a=t-r,o=Math.sqrt(i*i+a*a);Zn+=o*(n+e)/2,Yn+=o*(r+t)/2,Kn+=o,o=r*e-n*t,Xn+=o*(n+e),Qn+=o*(r+t),Jn+=3*o,Ur(n=e,r=t)}var e,t,n,r;Br.point=function(a,o){Br.point=i,Ur(e=n=a,t=r=o)},Br.lineEnd=function(){i(e,t)}}function Hr(e){function r(n,r){e.moveTo(n+t,r),e.arc(n,r,t,0,Ne)}function i(t,r){e.moveTo(t,r),n.point=a}function a(t,n){e.lineTo(t,n)}function o(){n.point=r}function s(){e.closePath()}var t=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(e){return t=e,n},result:q};return n}function zr(e){function i(e){return(r?o:a)(e)}function a(t){return Vr(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function o(t){function y(n,r){n=e(n,r),t.point(n[0],n[1])}function _(){h=NaN,v.point=b,t.lineStart()}function b(n,i){var a=In([n,i]),o=e(n,i);s(h,p,f,d,g,m,h=o[0],p=o[1],f=n,d=a[0],g=a[1],m=a[2],r,t),t.point(h,p)}function E(){v.point=y,t.lineEnd()}function x(){_(),v.point=w,v.lineEnd=T;
}function w(e,t){b(n=e,i=t),a=h,o=p,u=d,l=g,c=m,v.point=b}function T(){s(h,p,f,d,g,m,a,o,n,u,l,c,r,t),v.lineEnd=E,E()}var n,i,a,o,u,l,c,f,h,p,d,g,m,v={point:y,lineStart:_,lineEnd:E,polygonStart:function(){t.polygonStart(),v.lineStart=x},polygonEnd:function(){t.polygonEnd(),v.lineStart=_}};return v}function s(r,i,a,o,u,l,c,f,h,p,d,g,m,v){var y=c-r,b=f-i,E=y*y+b*b;if(E>4*t&&m--){var x=o+p,w=u+d,T=l+g,L=Math.sqrt(x*x+w*w+T*T),A=Math.asin(T/=L),S=_(_(T)-1)<Se||_(a-h)<Se?(a+h)/2:Math.atan2(w,x),R=e(S,A),C=R[0],N=R[1],P=C-r,O=N-i,M=b*P-y*O;(M*M/E>t||_((y*P+b*O)/E-.5)>.3||n>o*p+u*d+l*g)&&(s(r,i,a,o,u,l,C,N,S,x/=L,w/=L,T,m,v),v.point(C,N),s(C,N,S,x,w,T,c,f,h,p,d,g,m,v))}}var t=.5,n=Math.cos(30*Me),r=16;return i.precision=function(e){return arguments.length?(r=(t=e*e)>0&&16,i):Math.sqrt(t)},i}function $r(e){var t=zr(function(t,n){return e([t*ke,n*ke])});return function(e){return Kr(t(e))}}function Wr(e){this.stream=e}function Vr(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Zr(e){return Yr(function(){return e})()}function Yr(t){function E(e){return e=i(e[0]*Me,e[1]*Me),[e[0]*o+d,g-e[1]*o]}function x(e){return e=i.invert((e[0]-d)/o,(g-e[1])/o),e&&[e[0]*ke,e[1]*ke]}function w(){i=or(r=Jr(f,h,p),n);var e=n(l,c);return d=s-e[0]*o,g=u+e[1]*o,T()}function T(){return b&&(b.valid=!1,b=null),E}var n,r,i,d,g,b,a=zr(function(e,t){return e=n(e,t),[e[0]*o+d,g-e[1]*o]}),o=150,s=480,u=250,l=0,c=0,f=0,h=0,p=0,m=gr,v=M,y=null,_=null;return E.stream=function(e){return b&&(b.valid=!1),b=Kr(m(r,a(v(e)))),b.valid=!0,b},E.clipAngle=function(e){return arguments.length?(m=null==e?(y=e,gr):br((y=+e)*Me),T()):y},E.clipExtent=function(e){return arguments.length?(_=e,v=e?wr(e[0][0],e[0][1],e[1][0],e[1][1]):M,T()):_},E.scale=function(e){return arguments.length?(o=+e,w()):o},E.translate=function(e){return arguments.length?(s=+e[0],u=+e[1],w()):[s,u]},E.center=function(e){return arguments.length?(l=e[0]%360*Me,c=e[1]%360*Me,w()):[l*ke,c*ke]},E.rotate=function(e){return arguments.length?(f=e[0]%360*Me,h=e[1]%360*Me,p=e.length>2?e[2]%360*Me:0,w()):[f*ke,h*ke,p*ke]},e.rebind(E,a,"precision"),function(){return n=t.apply(this,arguments),E.invert=n.invert&&x,w()}}function Kr(e){return Vr(e,function(t,n){e.point(t*Me,n*Me)})}function Xr(e,t){return[e,t]}function Qr(e,t){return[e>Ce?e-Ne:-Ce>e?e+Ne:e,t]}function Jr(e,t,n){return e?t||n?or(ti(e),ni(t,n)):ti(e):t||n?ni(t,n):Qr}function ei(e){return function(t,n){return t+=e,[t>Ce?t-Ne:-Ce>t?t+Ne:t,n]}}function ti(e){var t=ei(e);return t.invert=ei(-e),t}function ni(e,t){function o(e,t){var o=Math.cos(t),s=Math.cos(e)*o,u=Math.sin(e)*o,l=Math.sin(t),c=l*n+s*r;return[Math.atan2(u*i-c*a,s*n-l*r),Be(c*i+u*a)]}var n=Math.cos(e),r=Math.sin(e),i=Math.cos(t),a=Math.sin(t);return o.invert=function(e,t){var o=Math.cos(t),s=Math.cos(e)*o,u=Math.sin(e)*o,l=Math.sin(t),c=l*i-u*a;return[Math.atan2(u*i+l*a,s*n+c*r),Be(c*n-s*r)]},o}function ri(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,a,o,s){var u=o*t;null!=i?(i=ii(n,i),a=ii(n,a),(o>0?a>i:i>a)&&(i+=o*Ne)):(i=e+o*Ne,a=e-.5*u);for(var l,c=i;o>0?c>a:a>c;c-=u)s.point((l=jn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function ii(e,t){var n=In(t);n[0]-=e,Fn(n);var r=qe(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Se)%(2*Math.PI)}function ai(t,n,r){var i=e.range(t,n-Se,r).concat(n);return function(e){return i.map(function(t){return[e,t]})}}function oi(t,n,r){var i=e.range(t,n-Se,r).concat(n);return function(e){return i.map(function(t){return[t,e]})}}function si(e){return e.source}function ui(e){return e.target}function li(e,t,n,r){var i=Math.cos(t),a=Math.sin(t),o=Math.cos(r),s=Math.sin(r),u=i*Math.cos(e),l=i*Math.sin(e),c=o*Math.cos(n),f=o*Math.sin(n),h=2*Math.asin(Math.sqrt(Ge(r-t)+i*o*Ge(n-e))),p=1/Math.sin(h),d=h?function(e){var t=Math.sin(e*=h)*p,n=Math.sin(h-e)*p,r=n*u+t*c,i=n*l+t*f,o=n*a+t*s;return[Math.atan2(i,r)*ke,Math.atan2(o,Math.sqrt(r*r+i*i))*ke]}:function(){return[e*ke,t*ke]};return d.distance=h,d}function hi(){function r(r,i){var a=Math.sin(i*=Me),o=Math.cos(i),s=_((r*=Me)-e),u=Math.cos(s);ci+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=n*a-t*o*u)*s),t*a+n*o*u),e=r,t=a,n=o}var e,t,n;fi.point=function(i,a){e=i*Me,t=Math.sin(a*=Me),n=Math.cos(a),fi.point=r},fi.lineEnd=function(){fi.point=fi.lineEnd=q}}function pi(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),a=e(r*i);return[a*i*Math.sin(t),a*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),a=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*a,r*o),Math.asin(r&&n*a/r)]},n}function mi(e,t){function o(e,t){a>0?-Oe+Se>t&&(t=-Oe+Se):t>Oe-Se&&(t=Oe-Se);var n=a/Math.pow(r(t),i);return[n*Math.sin(i*e),a-n*Math.cos(i*e)]}var n=Math.cos(e),r=function(e){return Math.tan(Ce/4+e/2)},i=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(r(t)/r(e)),a=n*Math.pow(r(e),i)/i;return i?(o.invert=function(e,t){var n=a-t,r=Ie(i)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/i,2*Math.atan(Math.pow(a/r,1/i))-Oe]},o):_i}function vi(e,t){function a(e,t){var n=i-t;return[n*Math.sin(r*e),i-n*Math.cos(r*e)]}var n=Math.cos(e),r=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),i=n/r+e;return _(r)<Se?Xr:(a.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/r,i-Ie(r)*Math.sqrt(e*e+n*n)]},a)}function _i(e,t){return[e,Math.log(Math.tan(Ce/4+t/2))]}function bi(e){var a,t=Zr(e),n=t.scale,r=t.translate,i=t.clipExtent;return t.scale=function(){var e=n.apply(t,arguments);return e===t?a?t.clipExtent(null):t:e},t.translate=function(){var e=r.apply(t,arguments);return e===t?a?t.clipExtent(null):t:e},t.clipExtent=function(e){var o=i.apply(t,arguments);if(o===t){if(a=null==e){var s=Ce*n(),u=r();i([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else a&&(o=null);return o},t.clipExtent(null)}function wi(e,t){return[Math.log(Math.tan(Ce/4+t/2)),-e]}function Ti(e){return e[0]}function Li(e){return e[1]}function Ai(e){for(var t=e.length,n=[0,1],r=2,i=2;t>i;i++){for(;r>1&&De(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Si(e,t){return e[0]-t[0]||e[1]-t[1]}function Ci(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Ni(e,t,n,r){var i=e[0],a=n[0],o=t[0]-i,s=r[0]-a,u=e[1],l=n[1],c=t[1]-u,f=r[1]-l,h=(s*(u-l)-f*(i-a))/(f*o-s*c);return[i+h*o,u+h*c]}function Pi(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Ui(){oa(this),this.edge=this.site=this.circle=null}function Fi(e){var t=Ii.pop()||new Ui;return t.site=e,t}function ji(e){Xi(e),ki.remove(e),Ii.push(e),oa(e)}function Gi(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},a=e.P,o=e.N,s=[e];ji(e);for(var u=a;u.circle&&_(n-u.circle.x)<Se&&_(r-u.circle.cy)<Se;)a=u.P,s.unshift(u),ji(u),u=a;s.unshift(u),Xi(u);for(var l=o;l.circle&&_(n-l.circle.x)<Se&&_(r-l.circle.cy)<Se;)o=l.N,s.push(l),ji(l),l=o;s.push(l),Xi(l);var f,c=s.length;for(f=1;c>f;++f)l=s[f],u=s[f-1],ra(l.edge,u.site,l.site,i);u=s[0],l=s[c-1],l.edge=ta(u.site,l.site,null,i),Ki(u),Ki(l)}function Hi(e){for(var r,i,a,o,t=e.x,n=e.y,s=ki._;s;)if(a=zi(s,n)-t,a>Se)s=s.L;else{if(o=t-$i(s,n),!(o>Se)){a>-Se?(r=s.P,i=s):o>-Se?(r=s,i=s.N):r=i=s;break}if(!s.R){r=s;break}s=s.R}var u=Fi(e);if(ki.insert(r,u),r||i){if(r===i)return Xi(r),i=Fi(r.site),ki.insert(u,i),u.edge=i.edge=ta(r.site,u.site),Ki(r),void Ki(i);if(!i)return void(u.edge=ta(r.site,u.site));Xi(r),Xi(i);var l=r.site,c=l.x,f=l.y,h=e.x-c,p=e.y-f,d=i.site,g=d.x-c,m=d.y-f,v=2*(h*m-p*g),y=h*h+p*p,_=g*g+m*m,b={x:(m*y-p*_)/v+c,y:(h*_-g*y)/v+f};ra(i.edge,l,d,b),u.edge=ta(l,e,null,b),i.edge=ta(e,d,null,b),Ki(r),Ki(i)}}function zi(e,t){var n=e.site,r=n.x,i=n.y,a=i-t;if(!a)return r;var o=e.P;if(!o)return-(1/0);n=o.site;var s=n.x,u=n.y,l=u-t;if(!l)return s;var c=s-r,f=1/a-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-u+l/2+i-a/2)))/f+r:(r+s)/2}function $i(e,t){var n=e.N;if(n)return zi(n,t);var r=e.site;return r.y===t?r.x:1/0}function Wi(e){this.site=e,this.edges=[]}function Vi(e){for(var a,o,s,u,f,h,p,d,g,m,t=e[0][0],n=e[1][0],r=e[0][1],i=e[1][1],l=Mi,c=l.length;c--;)if(f=l[c],f&&f.prepare())for(p=f.edges,d=p.length,h=0;d>h;)m=p[h].end(),s=m.x,u=m.y,g=p[++h%d].start(),a=g.x,o=g.y,(_(s-a)>Se||_(u-o)>Se)&&(p.splice(h,0,new ia(na(f.site,m,_(s-t)<Se&&i-u>Se?{x:t,y:_(a-t)<Se?o:i}:_(u-i)<Se&&n-s>Se?{x:_(o-i)<Se?a:n,y:i}:_(s-n)<Se&&u-r>Se?{x:n,y:_(a-n)<Se?o:r}:_(u-r)<Se&&s-t>Se?{x:_(o-r)<Se?a:t,y:r}:null),f.site,null)),++d)}function Zi(e,t){return t.angle-e.angle}function Yi(){oa(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ki(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,a=n.site;if(r!==a){var o=i.x,s=i.y,u=r.x-o,l=r.y-s,c=a.x-o,f=a.y-s,h=2*(u*f-l*c);if(!(h>=-Re)){var p=u*u+l*l,d=c*c+f*f,g=(f*p-l*d)/h,m=(u*d-c*p)/h,f=m+s,v=Bi.pop()||new Yi;v.arc=e,v.site=i,v.x=g+o,v.y=f+Math.sqrt(g*g+m*m),v.cy=f,e.circle=v;for(var y=null,_=qi._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}qi.insert(y,v),y||(Di=v)}}}}function Xi(e){var t=e.circle;t&&(t.P||(Di=t.N),qi.remove(t),Bi.push(t),oa(t),e.circle=null)}function Qi(e){for(var i,t=Oi,n=Er(e[0][0],e[0][1],e[1][0],e[1][1]),r=t.length;r--;)i=t[r],(!Ji(i,e)||!n(i)||_(i.a.x-i.b.x)<Se&&_(i.a.y-i.b.y)<Se)&&(i.a=i.b=null,t.splice(r,1))}function Ji(e,t){var n=e.b;if(n)return!0;var m,v,r=e.a,i=t[0][0],a=t[1][0],o=t[0][1],s=t[1][1],u=e.l,l=e.r,c=u.x,f=u.y,h=l.x,p=l.y,d=(c+h)/2,g=(f+p)/2;if(p===f){if(i>d||d>=a)return;if(c>h){if(r){if(r.y>=s)return}else r={x:d,y:o};n={x:d,y:s}}else{if(r){if(r.y<o)return}else r={x:d,y:s};n={x:d,y:o}}}else if(m=(c-h)/(p-f),v=g-m*d,-1>m||m>1)if(c>h){if(r){if(r.y>=s)return}else r={x:(o-v)/m,y:o};n={x:(s-v)/m,y:s}}else{if(r){if(r.y<o)return}else r={x:(s-v)/m,y:s};n={x:(o-v)/m,y:o}}else if(p>f){if(r){if(r.x>=a)return}else r={x:i,y:m*i+v};n={x:a,y:m*a+v}}else{if(r){if(r.x<i)return}else r={x:a,y:m*a+v};n={x:i,y:m*i+v}}return e.a=r,e.b=n,!0}function ea(e,t){this.l=e,this.r=t,this.a=this.b=null}function ta(e,t,n,r){var i=new ea(e,t);return Oi.push(i),n&&ra(i,e,t,n),r&&ra(i,t,e,r),Mi[e.i].edges.push(new ia(i,e,t)),Mi[t.i].edges.push(new ia(i,t,e)),i}function na(e,t,n){var r=new ea(e,null);return r.a=t,r.b=n,Oi.push(r),r}function ra(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function ia(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function aa(){this._=null}function oa(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function sa(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ua(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function la(e){for(;e.L;)e=e.L;return e}function ca(e,t){var r,i,a,n=e.sort(fa).pop();for(Oi=[],Mi=new Array(e.length),ki=new aa,qi=new aa;;)if(a=Di,n&&(!a||n.y<a.y||n.y===a.y&&n.x<a.x))(n.x!==r||n.y!==i)&&(Mi[n.i]=new Wi(n),Hi(n),r=n.x,i=n.y),n=e.pop();else{if(!a)break;Gi(a.arc)}t&&(Qi(t),Vi(t));var o={cells:Mi,edges:Oi};return ki=qi=Oi=Mi=null,o}function fa(e,t){return t.y-e.y||t.x-e.x}function pa(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function da(e){return e.x}function ga(e){return e.y}function ma(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function va(e,t,n,r,i,a){if(!e(t,n,r,i,a)){var o=.5*(n+i),s=.5*(r+a),u=t.nodes;u[0]&&va(e,u[0],n,r,o,s),u[1]&&va(e,u[1],o,r,i,s),u[2]&&va(e,u[2],n,s,o,a),u[3]&&va(e,u[3],o,s,i,a)}}function ya(e,t,n,r,i,a,o){var u,s=1/0;return function l(e,c,f,h,p){if(!(c>a||f>o||r>h||i>p)){if(d=e.point){var d,g=t-e.x,m=n-e.y,v=g*g+m*m;if(s>v){var y=Math.sqrt(s=v);r=t-y,i=n-y,a=t+y,o=n+y,u=d}}for(var _=e.nodes,b=.5*(c+h),E=.5*(f+p),x=t>=b,w=n>=E,T=w<<1|x,L=T+4;L>T;++T)if(e=_[3&T])switch(3&T){case 0:l(e,c,f,b,E);break;case 1:l(e,b,f,h,E);break;case 2:l(e,c,E,b,p);break;case 3:l(e,b,E,h,p)}}}(e,r,i,a,o),u}function _a(t,n){t=e.rgb(t),n=e.rgb(n);var r=t.r,i=t.g,a=t.b,o=n.r-r,s=n.g-i,u=n.b-a;return function(e){return"#"+vt(Math.round(r+o*e))+vt(Math.round(i+s*e))+vt(Math.round(a+u*e))}}function ba(e,t){var i,n={},r={};for(i in e)i in t?n[i]=La(e[i],t[i]):r[i]=e[i];for(i in t)i in e||(r[i]=t[i]);return function(e){for(i in n)r[i]=n[i](e);return r}}function Ea(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function xa(e,t){var r,i,a,n=wa.lastIndex=Ta.lastIndex=0,o=-1,s=[],u=[];for(e+="",t+="";(r=wa.exec(e))&&(i=Ta.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:Ea(r,i)})),n=Ta.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?(t=u[0].x,function(e){return t(e)+""}):function(){return t}:(t=u.length,function(e){for(var r,n=0;t>n;++n)s[(r=u[n]).i]=r.x(e);return s.join("")})}function La(t,n){for(var i,r=e.interpolators.length;--r>=0&&!(i=e.interpolators[r](t,n)););return i}function Aa(e,t){var s,n=[],r=[],i=e.length,a=t.length,o=Math.min(e.length,t.length);for(s=0;o>s;++s)n.push(La(e[s],t[s]));for(;i>s;++s)r[s]=e[s];for(;a>s;++s)r[s]=t[s];return function(e){for(s=0;o>s;++s)r[s]=n[s](e);return r}}function Na(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function Pa(e){return function(t){return 1-e(1-t)}}function Oa(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function Ma(e){return e*e}function ka(e){return e*e*e}function Ia(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function Da(e){return function(t){return Math.pow(t,e)}}function qa(e){return 1-Math.cos(e*Oe)}function Ba(e){return Math.pow(2,10*(e-1))}function Ua(e){return 1-Math.sqrt(1-e*e)}function Fa(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Ne*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Ne/t)}}function ja(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Ga(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Ha(t,n){t=e.hcl(t),n=e.hcl(n);var r=t.h,i=t.c,a=t.l,o=n.h-r,s=n.c-i,u=n.l-a;return isNaN(s)&&(s=0,i=isNaN(i)?n.c:i),isNaN(o)?(o=0,r=isNaN(r)?n.h:r):o>180?o-=360:-180>o&&(o+=360),function(e){return tt(r+o*e,i+s*e,a+u*e)+""}}function za(t,n){t=e.hsl(t),n=e.hsl(n);var r=t.h,i=t.s,a=t.l,o=n.h-r,s=n.s-i,u=n.l-a;return isNaN(s)&&(s=0,i=isNaN(i)?n.s:i),isNaN(o)?(o=0,r=isNaN(r)?n.h:r):o>180?o-=360:-180>o&&(o+=360),function(e){return Qe(r+o*e,i+s*e,a+u*e)+""}}function $a(t,n){t=e.lab(t),n=e.lab(n);var r=t.l,i=t.a,a=t.b,o=n.l-r,s=n.a-i,u=n.b-a;return function(e){return ut(r+o*e,i+s*e,a+u*e)+""}}function Wa(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Va(e){var t=[e.a,e.b],n=[e.c,e.d],r=Ya(t),i=Za(t,n),a=Ya(Ka(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*ke,this.translate=[e.e,e.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*ke:0}function Za(e,t){return e[0]*t[0]+e[1]*t[1]}function Ya(e){var t=Math.sqrt(Za(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Ka(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Qa(e){return e.length?e.pop()+",":""}function Ja(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:Ea(e[0],t[0])},{i:i-2,x:Ea(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}function eo(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(Qa(n)+"rotate(",null,")")-2,x:Ea(e,t)})):t&&n.push(Qa(n)+"rotate("+t+")")}function to(e,t,n,r){e!==t?r.push({i:n.push(Qa(n)+"skewX(",null,")")-2,x:Ea(e,t)}):t&&n.push(Qa(n)+"skewX("+t+")")}function no(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(Qa(n)+"scale(",null,",",null,")");r.push({i:i-4,x:Ea(e[0],t[0])},{i:i-2,x:Ea(e[1],t[1])})}else(1!==t[0]||1!==t[1])&&n.push(Qa(n)+"scale("+t+")")}function ro(t,n){var r=[],i=[];return t=e.transform(t),n=e.transform(n),Ja(t.translate,n.translate,r,i),eo(t.rotate,n.rotate,r,i),to(t.skew,n.skew,r,i),no(t.scale,n.scale,r,i),t=n=null,function(e){for(var a,t=-1,n=i.length;++t<n;)r[(a=i[t]).i]=a.x(e);return r.join("")}}function io(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function ao(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function oo(e){for(var t=e.source,n=e.target,r=uo(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function so(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function uo(e,t){if(e===t)return e;for(var n=so(e),r=so(t),i=n.pop(),a=r.pop(),o=null;i===a;)o=i,i=n.pop(),a=r.pop();return o}function lo(e){e.fixed|=2}function co(e){e.fixed&=-7}function fo(e){e.fixed|=4,e.px=e.x,e.py=e.y}function ho(e){e.fixed&=-5}function po(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var u,a=e.nodes,o=a.length,s=-1;++s<o;)u=a[s],null!=u&&(po(u,t,n),e.charge+=u.charge,r+=u.charge*u.cx,i+=u.charge*u.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var l=t*n[e.point.index];e.charge+=e.pointCharge=l,r+=l*e.point.x,i+=l*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function yo(t,n){return e.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=To,t}function _o(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function bo(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(o=e.children)&&(a=o.length))for(var a,o,i=-1;++i<a;)n.push(o[i]);for(;null!=(e=r.pop());)t(e)}function Eo(e){return e.children}function xo(e){return e.value}function wo(e,t){return t.value-e.value}function To(t){return e.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function Ao(e){return e.x}function So(e){return e.y}function Ro(e,t,n){e.y0=t,e.y=n}function Po(t){return e.range(t.length)}function Oo(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function Mo(e){for(var i,t=1,n=0,r=e[0][1],a=e.length;a>t;++t)(i=e[t][1])>r&&(n=t,r=i);return n}function ko(e){return e.reduce(Io,0)}function Io(e,t){return e+t[1]}function Do(e,t){return qo(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function qo(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,a=[];++n<=t;)a[n]=i*n+r;return a}function Bo(t){return[e.min(t),e.max(t)]}function Uo(e,t){return e.value-t.value}function Fo(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function jo(e,t){e._pack_next=t,t._pack_prev=e}function Go(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function Ho(e){function p(e){n=Math.min(e.x-e.r,n),r=Math.max(e.x+e.r,r),i=Math.min(e.y-e.r,i),a=Math.max(e.y+e.r,a)}if((t=e.children)&&(h=t.length)){var t,o,s,u,l,c,f,h,n=1/0,r=-(1/0),i=1/0,a=-(1/0);if(t.forEach(zo),o=t[0],o.x=-o.r,o.y=0,p(o),h>1&&(s=t[1],s.x=s.r,s.y=0,p(s),h>2))for(u=t[2],Vo(o,s,u),p(u),Fo(o,u),o._pack_prev=u,Fo(u,s),s=o._pack_next,l=3;h>l;l++){Vo(o,s,u=t[l]);var d=0,g=1,m=1;for(c=s._pack_next;c!==s;c=c._pack_next,g++)if(Go(c,u)){d=1;break}if(1==d)for(f=o._pack_prev;f!==c._pack_prev&&!Go(f,u);f=f._pack_prev,m++);d?(m>g||g==m&&s.r<o.r?jo(o,s=c):jo(o=f,s),l--):(Fo(o,u),s=u,p(u))}var v=(n+r)/2,y=(i+a)/2,_=0;for(l=0;h>l;l++)u=t[l],u.x-=v,u.y-=y,_=Math.max(_,u.r+Math.sqrt(u.x*u.x+u.y*u.y));e.r=_,t.forEach($o)}}function zo(e){e._pack_next=e._pack_prev=e}function $o(e){delete e._pack_next,delete e._pack_prev}function Wo(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var a=-1,o=i.length;++a<o;)Wo(i[a],t,n,r)}function Vo(e,t,n){var r=e.r+n.r,i=t.x-e.x,a=t.y-e.y;if(r&&(i||a)){var o=t.r+n.r,s=i*i+a*a;o*=o,r*=r;var u=.5+(r-o)/(2*s),l=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=e.x+u*i+l*a,n.y=e.y+u*a-l*i}else n.x=e.x+r,n.y=e.y}function Zo(e,t){return e.parent==t.parent?1:2}function Yo(e){var t=e.children;return t.length?t[0]:e.t}function Ko(e){var n,t=e.children;return(n=t.length)?t[n-1]:e.t}function Xo(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Qo(e){for(var a,t=0,n=0,r=e.children,i=r.length;--i>=0;)a=r[i],a.z+=t,a.m+=t,t+=a.s+(n+=a.c)}function Jo(e,t,n){return e.a.parent===t.parent?e.a:n}function es(t){return 1+e.max(t,function(e){return e.y})}function ts(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function ns(e){var t=e.children;return t&&t.length?ns(t[0]):e}function rs(e){var n,t=e.children;return t&&(n=t.length)?rs(t[n-1]):e}function is(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function as(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];return 0>i&&(n+=i/2,i=0),0>a&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function os(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function ss(e){return e.rangeExtent?e.rangeExtent():os(e.range())}function us(e,t,n,r){var i=n(e[0],e[1]),a=r(t[0],t[1]);return function(e){return a(i(e))}}function ls(e,t){var o,n=0,r=e.length-1,i=e[n],a=e[r];return i>a&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function cs(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:fs}function hs(t,n,r,i){var a=[],o=[],s=0,u=Math.min(t.length,n.length)-1;for(t[u]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<=u;)a.push(r(t[s-1],t[s])),o.push(i(n[s-1],n[s]));return function(n){var r=e.bisect(t,n,1,u)-1;return o[r](a[r](n))}}function ps(e,t,n,r){function o(){var o=Math.min(e.length,t.length)>2?hs:us,u=r?ao:io;return i=o(e,t,u,n),a=o(t,e,u,La),s}function s(e){return i(e)}var i,a;return s.invert=function(e){return a(e)},s.domain=function(t){return arguments.length?(e=t.map(Number),o()):e},s.range=function(e){return arguments.length?(t=e,o()):t},s.rangeRound=function(e){return s.range(e).interpolate(Wa)},s.clamp=function(e){return arguments.length?(r=e,o()):r},s.interpolate=function(e){return arguments.length?(n=e,o()):n},s.ticks=function(t){return vs(e,t)},s.tickFormat=function(t,n){return ys(e,t,n)},s.nice=function(t){return gs(e,t),o()},s.copy=function(){return ps(e,t,n,r)},o()}function ds(t,n){return e.rebind(t,n,"range","rangeRound","interpolate","clamp")}function gs(e,t){return ls(e,cs(ms(e,t)[2])),ls(e,cs(ms(e,t)[2])),e}function ms(e,t){null==t&&(t=10);var n=os(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),a=t/r*i;return.15>=a?i*=10:.35>=a?i*=5:.75>=a&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function vs(t,n){return e.range.apply(e,ms(t,n))}function ys(t,n,r){var i=ms(t,n);if(r){var a=Gt.exec(r);if(a.shift(),"s"===a[8]){var o=e.formatPrefix(Math.max(_(i[0]),_(i[1])));return a[7]||(a[7]="."+bs(o.scale(i[2]))),a[8]="f",r=e.format(a.join("")),function(e){return r(o.scale(e))+o.symbol}}a[7]||(a[7]="."+Es(a[8],i)),r=a.join("")}else r=",."+bs(i[2])+"f";return e.format(r)}function bs(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Es(e,t){var n=bs(t[2]);return e in _s?Math.abs(n-bs(Math.max(_(t[0]),_(t[1]))))+ +("e"!==e):n-2*("%"===e)}function xs(t,n,r,i){function a(e){return(r?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(n)}function o(e){return r?Math.pow(n,e):-Math.pow(n,-e)}function s(e){return t(a(e))}return s.invert=function(e){return o(t.invert(e))},s.domain=function(e){return arguments.length?(r=e[0]>=0,t.domain((i=e.map(Number)).map(a)),s):i},s.base=function(e){return arguments.length?(n=+e,t.domain(i.map(a)),s):n},s.nice=function(){var e=ls(i.map(a),r?Math:Ts);return t.domain(e),i=e.map(o),s},s.ticks=function(){var e=os(i),t=[],s=e[0],u=e[1],l=Math.floor(a(s)),c=Math.ceil(a(u)),f=n%1?2:n;if(isFinite(c-l)){if(r){for(;c>l;l++)for(var h=1;f>h;h++)t.push(o(l)*h);t.push(o(l))}else for(t.push(o(l));l++<c;)for(var h=f-1;h>0;h--)t.push(o(l)*h);for(l=0;t[l]<s;l++);for(c=t.length;t[c-1]>u;c--);t=t.slice(l,c)}return t},s.tickFormat=function(t,r){if(!arguments.length)return ws;arguments.length<2?r=ws:"function"!=typeof r&&(r=e.format(r));var i=Math.max(1,n*t/s.ticks().length);return function(e){var t=e/o(Math.round(a(e)));return n-.5>t*n&&(t*=n),i>=t?r(e):""}},s.copy=function(){return xs(t.copy(),n,r,i)},ds(s,t)}function Ls(e,t,n){function a(t){return e(r(t))}var r=As(t),i=As(1/t);return a.invert=function(t){return i(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(r)),a):n},a.ticks=function(e){return vs(n,e)},a.tickFormat=function(e,t){return ys(n,e,t)},a.nice=function(e){return a.domain(gs(n,e))},a.exponent=function(o){return arguments.length?(r=As(t=o),i=As(1/t),e.domain(n.map(r)),a):t},a.copy=function(){return Ls(e.copy(),t,n)},ds(a,e)}function As(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function Ss(t,n){function o(e){return i[((r.get(e)||("range"===n.t?r.set(e,t.push(e)):NaN))-1)%i.length]}function s(n,r){return e.range(t.length).map(function(e){return n+r*e})}var r,i,a;return o.domain=function(e){if(!arguments.length)return t;t=[],r=new x;for(var s,i=-1,a=e.length;++i<a;)r.has(s=e[i])||r.set(s,t.push(s));return o[n.t].apply(o,n.a)},o.range=function(e){return arguments.length?(i=e,a=0,n={t:"range",a:arguments},o):i},o.rangePoints=function(e,r){arguments.length<2&&(r=0);var u=e[0],l=e[1],c=t.length<2?(u=(u+l)/2,0):(l-u)/(t.length-1+r);return i=s(u+c*r/2,c),a=0,n={t:"rangePoints",a:arguments},o},o.rangeRoundPoints=function(e,r){arguments.length<2&&(r=0);var u=e[0],l=e[1],c=t.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(t.length-1+r)|0;return i=s(u+Math.round(c*r/2+(l-u-(t.length-1+r)*c)/2),c),a=0,n={t:"rangeRoundPoints",a:arguments},o},o.rangeBands=function(e,r,u){arguments.length<2&&(r=0),arguments.length<3&&(u=r);var l=e[1]<e[0],c=e[l-0],f=e[1-l],h=(f-c)/(t.length-r+2*u);return i=s(c+h*u,h),l&&i.reverse(),a=h*(1-r),n={t:"rangeBands",a:arguments},o},o.rangeRoundBands=function(e,r,u){arguments.length<2&&(r=0),arguments.length<3&&(u=r);var l=e[1]<e[0],c=e[l-0],f=e[1-l],h=Math.floor((f-c)/(t.length-r+2*u));return i=s(c+Math.round((f-c-(t.length-r)*h)/2),h),l&&i.reverse(),a=Math.round(h*(1-r)),n={t:"rangeRoundBands",a:arguments},o},o.rangeBand=function(){return a},o.rangeExtent=function(){return os(n.a[0])},o.copy=function(){return Ss(t,n)},o.domain(t)}function Os(t,n){function i(){var i=0,o=n.length;for(r=[];++i<o;)r[i-1]=e.quantile(t,i/o);return a}function a(t){return isNaN(t=+t)?void 0:n[e.bisect(r,t)]}var r;return a.domain=function(e){return arguments.length?(t=e.map(d).filter(g).sort(p),i()):t},a.range=function(e){return arguments.length?(n=e,i()):n},a.quantiles=function(){return r},a.invertExtent=function(e){return e=n.indexOf(e),0>e?[NaN,NaN]:[e>0?r[e-1]:t[0],e<r.length?r[e]:t[t.length-1]]},a.copy=function(){return Os(t,n)},i()}function Ms(e,t,n){function a(t){return n[Math.max(0,Math.min(i,Math.floor(r*(t-e))))]}function o(){return r=n.length/(t-e),i=n.length-1,a}var r,i;return a.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],o()):[e,t]},a.range=function(e){return arguments.length?(n=e,o()):n},a.invertExtent=function(t){return t=n.indexOf(t),t=0>t?NaN:t/r+e,[t,t+1/r]},a.copy=function(){return Ms(e,t,n)},o()}function ks(t,n){function r(r){return r>=r?n[e.bisect(t,r)]:void 0}return r.domain=function(e){return arguments.length?(t=e,r):t},r.range=function(e){return arguments.length?(n=e,r):n},r.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]},r.copy=function(){return ks(t,n)},r}function Is(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return vs(e,t)},t.tickFormat=function(t,n){return ys(e,t,n)},t.copy=function(){return Is(e)},t}function Ds(){return 0}function Bs(e){return e.innerRadius}function Us(e){return e.outerRadius}function Fs(e){return e.startAngle}function js(e){return e.endAngle}function Gs(e){return e&&e.padAngle}function Hs(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function zs(e,t,n,r,i){var a=e[0]-t[0],o=e[1]-t[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),u=s*o,l=-s*a,c=e[0]+u,f=e[1]+l,h=t[0]+u,p=t[1]+l,d=(c+h)/2,g=(f+p)/2,m=h-c,v=p-f,y=m*m+v*v,_=n-r,b=c*p-h*f,E=(0>v?-1:1)*Math.sqrt(Math.max(0,_*_*y-b*b)),x=(b*v-m*E)/y,w=(-b*m-v*E)/y,T=(b*v+m*E)/y,L=(-b*m+v*E)/y,A=x-d,S=w-g,R=T-d,C=L-g;return A*A+S*S>R*R+C*C&&(x=T,w=L),[[x-u,w-l],[x*n/_,w*n/_]]}function $s(e){function s(a){function d(){s.push("M",i(e(u),o))}for(var f,s=[],u=[],l=-1,c=a.length,h=Tt(t),p=Tt(n);++l<c;)r.call(this,f=a[l],l)?u.push([+h.call(this,f,l),+p.call(this,f,l)]):u.length&&(d(),u=[]);return u.length&&d(),s.length?s.join(""):null}var t=Ti,n=Li,r=sr,i=Vs,a=i.key,o=.7;return s.x=function(e){return arguments.length?(t=e,s):t},s.y=function(e){return arguments.length?(n=e,s):n},s.defined=function(e){return arguments.length?(r=e,s):r},s.interpolate=function(e){return arguments.length?(a="function"==typeof e?i=e:(i=Ws.get(e)||Vs).key,s):a},s.tension=function(e){return arguments.length?(o=e,s):o},s}function Vs(e){return e.length>1?e.join("L"):e+"Z"}function Zs(e){return e.join("L")+"Z"}function Ys(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function Ks(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function Xs(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function Qs(e,t){return e.length<4?Vs(e):e[1]+tu(e.slice(1,-1),nu(e,t))}function Js(e,t){return e.length<3?Zs(e):e[0]+tu((e.push(e[0]),e),nu([e[e.length-2]].concat(e,[e[1]]),t))}function eu(e,t){return e.length<3?Vs(e):e[0]+tu(e,nu(e,t))}function tu(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Vs(e);var n=e.length!=t.length,r="",i=e[0],a=e[1],o=t[0],s=o,u=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=e[1],u=2),t.length>1){s=t[1],a=e[u],u++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var l=2;l<t.length;l++,u++)a=e[u],s=t[l],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var c=e[u];r+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function nu(e,t){for(var i,n=[],r=(1-t)/2,a=e[0],o=e[1],s=1,u=e.length;++s<u;)i=a,a=o,o=e[s],n.push([r*(o[0]-i[0]),r*(o[1]-i[1])]);return n}function ru(e){if(e.length<3)return Vs(e);var t=1,n=e.length,r=e[0],i=r[0],a=r[1],o=[i,i,i,(r=e[1])[0]],s=[a,a,a,r[1]],u=[i,",",a,"L",su(cu,o),",",su(cu,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),fu(u,o,s);return e.pop(),u.push("L",r),u.join("")}function iu(e){if(e.length<4)return Vs(e);for(var i,t=[],n=-1,r=e.length,a=[0],o=[0];++n<3;)i=e[n],a.push(i[0]),o.push(i[1]);for(t.push(su(cu,a)+","+su(cu,o)),--n;++n<r;)i=e[n],a.shift(),a.push(i[0]),o.shift(),o.push(i[1]),fu(t,a,o);return t.join("")}function au(e){for(var t,a,n=-1,r=e.length,i=r+4,o=[],s=[];++n<4;)a=e[n%r],o.push(a[0]),s.push(a[1]);for(t=[su(cu,o),",",su(cu,s)],--n;++n<i;)a=e[n%r],o.shift(),o.push(a[0]),s.shift(),s.push(a[1]),fu(t,o,s);return t.join("")}function ou(e,t){var n=e.length-1;if(n)for(var u,l,r=e[0][0],i=e[0][1],a=e[n][0]-r,o=e[n][1]-i,s=-1;++s<=n;)u=e[s],l=s/n,u[0]=t*u[0]+(1-t)*(r+l*a),u[1]=t*u[1]+(1-t)*(i+l*o);return ru(e)}function su(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function fu(e,t,n){e.push("C",su(uu,t),",",su(uu,n),",",su(lu,t),",",su(lu,n),",",su(cu,t),",",su(cu,n))}function hu(e,t){return(t[1]-e[1])/(t[0]-e[0])}function pu(e){for(var t=0,n=e.length-1,r=[],i=e[0],a=e[1],o=r[0]=hu(i,a);++t<n;)r[t]=(o+(o=hu(i=a,a=e[t+1])))/2;return r[t]=o,r}function du(e){for(var n,r,i,a,t=[],o=pu(e),s=-1,u=e.length-1;++s<u;)n=hu(e[s],e[s+1]),_(n)<Se?o[s]=o[s+1]=0:(r=o[s]/n,i=o[s+1]/n,a=r*r+i*i,a>9&&(a=3*n/Math.sqrt(a),o[s]=a*r,o[s+1]=a*i));for(s=-1;++s<=u;)a=(e[Math.min(u,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),t.push([a||0,o[s]*a||0]);return t}function gu(e){return e.length<3?Vs(e):e[0]+tu(e,du(e))}function mu(e){for(var t,i,a,n=-1,r=e.length;++n<r;)t=e[n],i=t[0],a=t[1]-Oe,t[0]=i*Math.cos(a),t[1]=i*Math.sin(a);return e}function vu(e){function f(s){function w(){f.push("M",o(e(p),c),l,u(e(h.reverse()),c),"Z")}for(var m,E,x,f=[],h=[],p=[],d=-1,g=s.length,v=Tt(t),y=Tt(r),_=t===n?function(){return E}:Tt(n),b=r===i?function(){
return x}:Tt(i);++d<g;)a.call(this,m=s[d],d)?(h.push([E=+v.call(this,m,d),x=+y.call(this,m,d)]),p.push([+_.call(this,m,d),+b.call(this,m,d)])):h.length&&(w(),h=[],p=[]);return h.length&&w(),f.length?f.join(""):null}var t=Ti,n=Ti,r=0,i=Li,a=sr,o=Vs,s=o.key,u=o,l="L",c=.7;return f.x=function(e){return arguments.length?(t=n=e,f):n},f.x0=function(e){return arguments.length?(t=e,f):t},f.x1=function(e){return arguments.length?(n=e,f):n},f.y=function(e){return arguments.length?(r=i=e,f):i},f.y0=function(e){return arguments.length?(r=e,f):r},f.y1=function(e){return arguments.length?(i=e,f):i},f.defined=function(e){return arguments.length?(a=e,f):a},f.interpolate=function(e){return arguments.length?(s="function"==typeof e?o=e:(o=Ws.get(e)||Vs).key,u=o.reverse||o,l=o.closed?"M":"L",f):s},f.tension=function(e){return arguments.length?(c=e,f):c},f}function yu(e){return e.radius}function _u(e){return[e.x,e.y]}function bu(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Oe;return[n*Math.cos(r),n*Math.sin(r)]}}function Eu(){return 64}function xu(){return"circle"}function wu(e){var t=Math.sqrt(e/Ce);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Ru(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Cu(e,t,n){return z(e,Nu),e.namespace=t,e.id=n,e}function ku(e,t,n,r){var i=e.id,a=e.namespace;return pe(e,"function"==typeof n?function(e,o,s){e[a][i].tween.set(t,r(n.call(e,e.__data__,o,s)))}:(n=r(n),function(e){e[a][i].tween.set(t,n)}))}function Iu(e){return null==e&&(e=""),function(){this.textContent=e}}function Du(e){return null==e?"__transition__":"__transition_"+e+"__"}function qu(e,t,n,r,i){function h(e){var t=o.delay;return u.t=t+s,e>=t?p(e-t):void(u.c=p)}function p(n){var i=a.active,h=a[i];h&&(h.timer.c=null,h.timer.t=NaN,--a.count,delete a[i],h.event&&h.event.interrupt.call(e,e.__data__,h.index));for(var p in a)if(r>+p){var g=a[p];g.timer.c=null,g.timer.t=NaN,--a.count,delete a[p]}u.c=d,kt(function(){return u.c&&d(n||1)&&(u.c=null,u.t=NaN),1},0,s),a.active=r,o.event&&o.event.start.call(e,e.__data__,t),f=[],o.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&f.push(r)}),c=o.ease,l=o.duration}function d(i){for(var s=i/l,u=c(s),h=f.length;h>0;)f[--h].call(e,u);return s>=1?(o.event&&o.event.end.call(e,e.__data__,t),--a.count?delete a[r]:delete e[n],1):void 0}var s,u,l,c,f,a=e[n]||(e[n]={active:0,count:0}),o=a[r];o||(s=i.time,u=kt(h,0,s),o=a[r]={tween:new x,time:s,timer:u,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++a.count)}function Fu(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function ju(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function Vu(e){return e.toISOString()}function Zu(t,n,r){function i(e){return t(e)}function a(t,r){var i=t[1]-t[0],a=i/r,o=e.bisect(Ku,a);return o==Ku.length?[n.year,ms(t.map(function(e){return e/31536e6}),r)[2]]:o?n[a/Ku[o-1]<Ku[o]/a?o-1:o]:[Ju,ms(t,r)[2]]}return i.invert=function(e){return Yu(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(Yu)},i.nice=function(e,t){function s(n){return!isNaN(n)&&!e.range(n,Yu(+n+1),t).length}var n=i.domain(),r=os(n),o=null==e?a(r,10):"number"==typeof e&&a(r,e);return o&&(e=o[0],t=o[1]),i.domain(ls(n,t>1?{floor:function(t){for(;s(t=e.floor(t));)t=Yu(t-1);return t},ceil:function(t){for(;s(t=e.ceil(t));)t=Yu(+t+1);return t}}:e))},i.ticks=function(e,t){var n=os(i.domain()),r=null==e?a(n,10):"number"==typeof e?a(n,e):!e.range&&[{range:e},t];return r&&(e=r[0],t=r[1]),e.range(n[0],Yu(+n[1]+1),1>t?1:t)},i.tickFormat=function(){return r},i.copy=function(){return Zu(t.copy(),n,r)},ds(i,t)}function Yu(e){return new Date(e)}function nl(e){return JSON.parse(e.responseText)}function rl(e){var t=r.createRange();return t.selectNode(r.body),t.createContextualFragment(e.responseText)}var e={version:"3.5.16"},t=[].slice,n=function(e){return t.call(e)},r=this.document;if(r)try{n(r.documentElement.childNodes)[0].nodeType}catch(o){n=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),r)try{r.createElement("DIV").style.setProperty("opacity",0,"")}catch(s){var u=this.Element.prototype,l=u.setAttribute,c=u.setAttributeNS,f=this.CSSStyleDeclaration.prototype,h=f.setProperty;u.setAttribute=function(e,t){l.call(this,e,t+"")},u.setAttributeNS=function(e,t,n){c.call(this,e,t,n+"")},f.setProperty=function(e,t,n){h.call(this,e,t+"",n)}}e.ascending=p,e.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:NaN},e.min=function(e,t){var i,a,n=-1,r=e.length;if(1===arguments.length){for(;++n<r;)if(null!=(a=e[n])&&a>=a){i=a;break}for(;++n<r;)null!=(a=e[n])&&i>a&&(i=a)}else{for(;++n<r;)if(null!=(a=t.call(e,e[n],n))&&a>=a){i=a;break}for(;++n<r;)null!=(a=t.call(e,e[n],n))&&i>a&&(i=a)}return i},e.max=function(e,t){var i,a,n=-1,r=e.length;if(1===arguments.length){for(;++n<r;)if(null!=(a=e[n])&&a>=a){i=a;break}for(;++n<r;)null!=(a=e[n])&&a>i&&(i=a)}else{for(;++n<r;)if(null!=(a=t.call(e,e[n],n))&&a>=a){i=a;break}for(;++n<r;)null!=(a=t.call(e,e[n],n))&&a>i&&(i=a)}return i},e.extent=function(e,t){var i,a,o,n=-1,r=e.length;if(1===arguments.length){for(;++n<r;)if(null!=(a=e[n])&&a>=a){i=o=a;break}for(;++n<r;)null!=(a=e[n])&&(i>a&&(i=a),a>o&&(o=a))}else{for(;++n<r;)if(null!=(a=t.call(e,e[n],n))&&a>=a){i=o=a;break}for(;++n<r;)null!=(a=t.call(e,e[n],n))&&(i>a&&(i=a),a>o&&(o=a))}return[i,o]},e.sum=function(e,t){var i,n=0,r=e.length,a=-1;if(1===arguments.length)for(;++a<r;)g(i=+e[a])&&(n+=i);else for(;++a<r;)g(i=+t.call(e,e[a],a))&&(n+=i);return n},e.mean=function(e,t){var i,n=0,r=e.length,a=-1,o=r;if(1===arguments.length)for(;++a<r;)g(i=d(e[a]))?n+=i:--o;else for(;++a<r;)g(i=d(t.call(e,e[a],a)))?n+=i:--o;return o?n/o:void 0},e.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],a=n-r;return a?i+a*(e[r]-i):i},e.median=function(t,n){var a,r=[],i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)g(a=d(t[o]))&&r.push(a);else for(;++o<i;)g(a=d(n.call(t,t[o],o)))&&r.push(a);return r.length?e.quantile(r.sort(p),.5):void 0},e.variance=function(e,t){var i,a,n=e.length,r=0,o=0,s=-1,u=0;if(1===arguments.length)for(;++s<n;)g(i=d(e[s]))&&(a=i-r,r+=a/++u,o+=a*(i-r));else for(;++s<n;)g(i=d(t.call(e,e[s],s)))&&(a=i-r,r+=a/++u,o+=a*(i-r));return u>1?o/(u-1):void 0},e.deviation=function(){var t=e.variance.apply(this,arguments);return t?Math.sqrt(t):t};var v=m(p);e.bisectLeft=v.left,e.bisect=e.bisectRight=v.right,e.bisector=function(e){return m(1===e.length?function(t,n){return p(e(t),n)}:e)},e.shuffle=function(e,t,n){(r=arguments.length)<3&&(n=e.length,2>r&&(t=0));for(var i,a,r=n-t;r;)a=Math.random()*r--|0,i=e[r+t],e[r+t]=e[a+t],e[a+t]=i;return e},e.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},e.pairs=function(e){for(var r,t=0,n=e.length-1,i=e[0],a=new Array(0>n?0:n);n>t;)a[t]=[r=i,i=e[++t]];return a},e.transpose=function(t){if(!(o=t.length))return[];for(var n=-1,r=e.min(t,y),i=new Array(r);++n<r;)for(var o,a=-1,s=i[n]=new Array(o);++a<o;)s[a]=t[a][n];return i},e.zip=function(){return e.transpose(arguments)},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t},e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},e.merge=function(e){for(var n,a,o,t=e.length,r=-1,i=0;++r<t;)i+=e[r].length;for(a=new Array(i);--t>=0;)for(o=e[t],n=o.length;--n>=0;)a[--i]=o[n];return a};var _=Math.abs;e.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var o,r=[],i=b(_(n)),a=-1;if(e*=i,t*=i,n*=i,0>n)for(;(o=e+n*++a)>t;)r.push(o/i);else for(;(o=e+n*++a)<t;)r.push(o/i);return r},e.map=function(e,t){var n=new x;if(e instanceof x)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var a,r=-1,i=e.length;if(1===arguments.length)for(;++r<i;)n.set(r,e[r]);else for(;++r<i;)n.set(t.call(e,a=e[r],r),a)}else for(var o in e)n.set(o,e[o]);return n};var w="__proto__",T="\x00";E(x,{has:S,get:function(e){return this._[L(e)]},set:function(e,t){return this._[L(e)]=t},remove:R,keys:C,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:A(t),value:this._[t]});return e},size:N,empty:P,forEach:function(e){for(var t in this._)e.call(this,A(t),this._[t])}}),e.nest=function(){function o(e,r,s){if(s>=n.length)return a?a.call(t,r):i?r.sort(i):r;for(var f,h,p,g,u=-1,l=r.length,c=n[s++],d=new x;++u<l;)(g=d.get(f=c(h=r[u])))?g.push(h):d.set(f,[h]);return e?(h=e(),p=function(t,n){h.set(t,o(e,n,s))}):(h={},p=function(t,n){h[t]=o(e,n,s)}),d.forEach(p),h}function s(e,t){if(t>=n.length)return e;var i=[],a=r[t++];return e.forEach(function(e,n){i.push({key:e,values:s(n,t)})}),a?i.sort(function(e,t){return a(e.key,t.key)}):i}var i,a,t={},n=[],r=[];return t.map=function(e,t){return o(t,e,0)},t.entries=function(t){return s(o(e.map,t,0),0)},t.key=function(e){return n.push(e),t},t.sortKeys=function(e){return r[n.length-1]=e,t},t.sortValues=function(e){return i=e,t},t.rollup=function(e){return a=e,t},t},e.set=function(e){var t=new O;if(e)for(var n=0,r=e.length;r>n;++n)t.add(e[n]);return t},E(O,{has:S,add:function(e){return this._[L(e+="")]=!0,e},remove:R,values:C,size:N,empty:P,forEach:function(e){for(var t in this._)e.call(this,A(t))}}),e.behavior={},e.rebind=function(e,t){for(var i,n=1,r=arguments.length;++n<r;)e[i=arguments[n]]=k(e,t,t[i]);return e};var D=["webkit","ms","moz","Moz","o","O"];e.dispatch=function(){for(var e=new B,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=U(e);return e},B.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},e.event=null,e.requote=function(e){return e.replace(H,"\\$&")};var H=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,z={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},W=function(e,t){return t.querySelector(e)},V=function(e,t){return t.querySelectorAll(e)},Z=function(e,t){var n=e.matches||e[I(e,"matchesSelector")];return(Z=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(W=function(e,t){return Sizzle(e,t)[0]||null},V=Sizzle,Z=Sizzle.matchesSelector),e.selection=function(){return e.select(r.documentElement)};var Y=e.selection.prototype=[];Y.select=function(e){var n,r,i,a,t=[];e=K(e);for(var o=-1,s=this.length;++o<s;){t.push(n=[]),n.parentNode=(i=this[o]).parentNode;for(var u=-1,l=i.length;++u<l;)(a=i[u])?(n.push(r=e.call(a,a.__data__,u,o)),r&&"__data__"in a&&(r.__data__=a.__data__)):n.push(null)}return $(t)},Y.selectAll=function(e){var r,i,t=[];e=X(e);for(var a=-1,o=this.length;++a<o;)for(var s=this[a],u=-1,l=s.length;++u<l;)(i=s[u])&&(t.push(r=n(e.call(i,i.__data__,u,a))),r.parentNode=i);return $(t)};var Q="http://www.w3.org/1999/xhtml",J={svg:"http://www.w3.org/2000/svg",xhtml:Q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};e.ns={prefix:J,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),J.hasOwnProperty(n)?{space:J[n],local:e}:e}},Y.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var r=this.node();return t=e.ns.qualify(t),t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(n in t)this.each(ee(n,t[n]));return this}return this.each(ee(t,n))},Y.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=re(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!ne(e[i]).test(t))return!1;return!0}for(t in e)this.each(ie(t,e[t]));return this}return this.each(ie(e,t))},Y.style=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t="");for(n in e)this.each(oe(n,e[n],t));return this}if(2>r){var i=this.node();return a(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(oe(e,t,n))},Y.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(se(t,e[t]));return this}return this.each(se(e,t))},Y.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},Y.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},Y.append=function(e){return e=ue(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},Y.insert=function(e,t){return e=ue(e),t=K(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},Y.remove=function(){return this.each(le)},Y.data=function(e,t){function o(e,n){var r,p,d,i=e.length,a=n.length,o=Math.min(i,a),c=new Array(a),f=new Array(a),h=new Array(i);if(t){var v,g=new x,m=new Array(i);for(r=-1;++r<i;)(p=e[r])&&(g.has(v=t.call(p,p.__data__,r))?h[r]=p:g.set(v,p),m[r]=v);for(r=-1;++r<a;)(p=g.get(v=t.call(n,d=n[r],r)))?p!==!0&&(c[r]=p,p.__data__=d):f[r]=ce(d),g.set(v,!0);for(r=-1;++r<i;)r in m&&g.get(m[r])!==!0&&(h[r]=e[r])}else{for(r=-1;++r<o;)p=e[r],d=n[r],p?(p.__data__=d,c[r]=p):f[r]=ce(d);for(;a>r;++r)f[r]=ce(n[r]);for(;i>r;++r)h[r]=e[r]}f.update=c,f.parentNode=c.parentNode=h.parentNode=e.parentNode,s.push(f),u.push(c),l.push(h)}var i,a,n=-1,r=this.length;if(!arguments.length){for(e=new Array(r=(i=this[0]).length);++n<r;)(a=i[n])&&(e[n]=a.__data__);return e}var s=de([]),u=$([]),l=$([]);if("function"==typeof e)for(;++n<r;)o(i=this[n],e.call(i,i.parentNode.__data__,n));else for(;++n<r;)o(i=this[n],e);return u.enter=function(){return s},u.exit=function(){return l},u},Y.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},Y.filter=function(e){var n,r,i,t=[];"function"!=typeof e&&(e=fe(e));for(var a=0,o=this.length;o>a;a++){t.push(n=[]),n.parentNode=(r=this[a]).parentNode;for(var s=0,u=r.length;u>s;s++)(i=r[s])&&e.call(i,i.__data__,s,a)&&n.push(i)}return $(t)},Y.order=function(){for(var e=-1,t=this.length;++e<t;)for(var a,n=this[e],r=n.length-1,i=n[r];--r>=0;)(a=n[r])&&(i&&i!==a.nextSibling&&i.parentNode.insertBefore(a,i),i=a);return this},Y.sort=function(e){e=he.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},Y.each=function(e){return pe(this,function(t,n,r){e.call(t,t.__data__,n,r)})},Y.call=function(e){var t=n(arguments);return e.apply(t[0]=this,t),this},Y.empty=function(){return!this.node()},Y.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],r=0,i=n.length;i>r;r++){var a=n[r];if(a)return a}return null},Y.size=function(){var e=0;return pe(this,function(){++e}),e};var ge=[];e.selection.enter=de,e.selection.enter.prototype=ge,ge.append=Y.append,ge.empty=Y.empty,ge.node=Y.node,ge.call=Y.call,ge.size=Y.size,ge.select=function(e){for(var n,r,i,a,o,t=[],s=-1,u=this.length;++s<u;){i=(a=this[s]).update,t.push(n=[]),n.parentNode=a.parentNode;for(var l=-1,c=a.length;++l<c;)(o=a[l])?(n.push(i[l]=r=e.call(a.parentNode,o.__data__,l,s)),r.__data__=o.__data__):n.push(null)}return $(t)},ge.insert=function(e,t){return arguments.length<2&&(t=me(this)),Y.insert.call(this,e,t)},e.select=function(e){var t;return"string"==typeof e?(t=[W(e,r)],t.parentNode=r.documentElement):(t=[e],t.parentNode=i(e)),$([t])},e.selectAll=function(e){var t;return"string"==typeof e?(t=n(V(e,r)),t.parentNode=r.documentElement):(t=n(e),t.parentNode=null),$([t])},Y.on=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t=!1);for(n in e)this.each(ve(n,e[n],t));return this}if(2>r)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(ve(e,t,n))};var ye=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});r&&ye.forEach(function(e){"on"+e in r&&ye.remove(e)});var Ee,xe=0;e.mouse=function(e){return Le(e,j())};var Te=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;e.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=j().changedTouches),t)for(var a,r=0,i=t.length;i>r;++r)if((a=t[r]).identifier===n)return Le(e,a)},e.behavior.drag=function(){function o(){this.on("mousedown.drag",r).on("touchstart.drag",i)}function s(r,i,a,o,s){return function(){function _(){var t,n,e=i(c,p);e&&(t=e[0]-y[0],n=e[1]-y[1],h|=t|n,y=e,f({type:"drag",x:e[0]+g[0],y:e[1]+g[1],dx:t,dy:n}))}function b(){i(c,p)&&(m.on(o+d,null).on(s+d,null),v(h),f({type:"dragend"}))}var g,u=this,l=e.event.target.correspondingElement||e.event.target,c=u.parentNode,f=t.of(u,arguments),h=0,p=r(),d=".drag"+(null==p?"":"-"+p),m=e.select(a(l)).on(o+d,_).on(s+d,b),v=we(l),y=i(c,p);n?(g=n.apply(u,arguments),g=[g.x-y[0],g.y-y[1]]):g=[0,0],f({type:"dragstart"})}}var t=G(o,"drag","dragstart","dragend"),n=null,r=s(q,e.mouse,a,"mousemove","mouseup"),i=s(Ae,e.touch,M,"touchmove","touchend");return o.origin=function(e){return arguments.length?(n=e,o):n},e.rebind(o,t,"on")},e.touches=function(e,t){return arguments.length<2&&(t=j().touches),t?n(t).map(function(t){var n=Le(e,t);return n.identifier=t.identifier,n}):[]};var Se=1e-6,Re=Se*Se,Ce=Math.PI,Ne=2*Ce,Pe=Ne-Se,Oe=Ce/2,Me=Ce/180,ke=180/Ce,He=Math.SQRT2,ze=2,$e=4;e.interpolateZoom=function(e,t){var f,h,n=e[0],r=e[1],i=e[2],a=t[0],o=t[1],s=t[2],u=a-n,l=o-r,c=u*u+l*l;if(Re>c)h=Math.log(s/i)/He,f=function(e){return[n+e*u,r+e*l,i*Math.exp(He*e*h)]};else{var p=Math.sqrt(c),d=(s*s-i*i+$e*c)/(2*i*ze*p),g=(s*s-i*i-$e*c)/(2*s*ze*p),m=Math.log(Math.sqrt(d*d+1)-d),v=Math.log(Math.sqrt(g*g+1)-g);h=(v-m)/He,f=function(e){var t=e*h,a=Fe(m),o=i/(ze*p)*(a*je(He*t+m)-Ue(m));return[n+o*u,r+o*l,i*a/Fe(He*t+m)]}}return f.duration=1e3*h,f},e.behavior.zoom=function(){function x(e){e.on(f,O).on(Ze+".zoom",k).on("dblclick.zoom",I).on(g,M)}function w(e){return[(e[0]-t.x)/t.k,(e[1]-t.y)/t.k]}function T(e){return[e[0]*t.k+t.x,e[1]*t.k+t.y]}function L(e){t.k=Math.max(u[0],Math.min(u[1],e))}function A(e,n){n=T(n),t.x+=e[0]-n[0],t.y+=e[1]-n[1]}function S(n,r,a,o){n.__chart__={x:t.x,y:t.y,k:t.k},L(Math.pow(2,o)),A(i=r,a),n=e.select(n),l>0&&(n=n.transition().duration(l)),n.call(x.event)}function R(){_&&_.domain(y.range().map(function(e){return(e-t.x)/t.k}).map(y.invert)),E&&E.domain(b.range().map(function(e){return(e-t.y)/t.k}).map(b.invert))}function C(e){c++||e({type:"zoomstart"})}function N(e){R(),e({type:"zoom",scale:t.k,translate:[t.x,t.y]})}function P(e){--c||(e({type:"zoomend"}),i=null)}function O(){function u(){r=1,A(e.mouse(t),o),N(n)}function l(){i.on(h,null).on(p,null),s(r),P(n)}var t=this,n=v.of(t,arguments),r=0,i=e.select(a(t)).on(h,u).on(p,l),o=w(e.mouse(t)),s=we(t);Su.call(t),C(n)}function M(){function d(){var r=e.touches(n);return o=t.k,r.forEach(function(e){e.identifier in i&&(i[e.identifier]=w(e))}),r}function y(){var r=e.event.target;e.select(r).on(u,_).on(l,b),c.push(r);for(var o=e.event.changedTouches,s=0,f=o.length;f>s;++s)i[o[s].identifier]=null;var h=d(),p=Date.now();if(1===h.length){if(500>p-m){var g=h[0];S(n,g,i[g.identifier],Math.floor(Math.log(t.k)/Math.LN2)+1),F()}m=p}else if(h.length>1){var g=h[0],v=h[1],y=g[0]-v[0],E=g[1]-v[1];a=y*y+E*E}}function _(){var s,u,l,c,t=e.touches(n);Su.call(n);for(var f=0,h=t.length;h>f;++f,c=null)if(l=t[f],c=i[l.identifier]){if(u)break;s=l,u=c}if(c){var p=(p=l[0]-s[0])*p+(p=l[1]-s[1])*p,d=a&&Math.sqrt(p/a);s=[(s[0]+l[0])/2,(s[1]+l[1])/2],u=[(u[0]+c[0])/2,(u[1]+c[1])/2],L(d*o)}m=null,A(s,u),N(r)}function b(){if(e.event.touches.length){for(var t=e.event.changedTouches,n=0,a=t.length;a>n;++n)delete i[t[n].identifier];for(var o in i)return void d()}e.selectAll(c).on(s,null),h.on(f,O).on(g,M),p(),P(r)}var o,n=this,r=v.of(n,arguments),i={},a=0,s=".zoom-"+e.event.changedTouches[0].identifier,u="touchmove"+s,l="touchend"+s,c=[],h=e.select(n),p=we(n);y(),C(r),h.on(f,null).on(g,y)}function k(){var r=v.of(this,arguments);d?clearTimeout(d):(Su.call(this),n=w(i=o||e.mouse(this)),C(r)),d=setTimeout(function(){d=null,P(r)},50),F(),L(Math.pow(2,.002*Ve())*t.k),A(i,n),N(r)}function I(){var n=e.mouse(this),r=Math.log(t.k)/Math.LN2;S(this,n,w(n),e.event.shiftKey?Math.ceil(r)-1:Math.floor(r)+1)}var n,i,o,d,m,y,_,b,E,t={x:0,y:0,k:1},s=[960,500],u=We,l=250,c=0,f="mousedown.zoom",h="mousemove.zoom",p="mouseup.zoom",g="touchstart.zoom",v=G(x,"zoomstart","zoom","zoomend");return Ze||(Ze="onwheel"in r?(Ve=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in r?(Ve=function(){return e.event.wheelDelta},"mousewheel"):(Ve=function(){return-e.event.detail},"MozMousePixelScroll")),x.event=function(n){n.each(function(){var n=v.of(this,arguments),r=t;Ou?e.select(this).transition().each("start.zoom",function(){t=this.__chart__||{x:0,y:0,k:1},C(n)}).tween("zoom:zoom",function(){var a=s[0],o=s[1],u=i?i[0]:a/2,l=i?i[1]:o/2,c=e.interpolateZoom([(u-t.x)/t.k,(l-t.y)/t.k,a/t.k],[(u-r.x)/r.k,(l-r.y)/r.k,a/r.k]);return function(e){var r=c(e),i=a/r[2];this.__chart__=t={x:u-r[0]*i,y:l-r[1]*i,k:i},N(n)}}).each("interrupt.zoom",function(){P(n)}).each("end.zoom",function(){P(n)}):(this.__chart__=t,C(n),N(n),P(n))})},x.translate=function(e){return arguments.length?(t={x:+e[0],y:+e[1],k:t.k},R(),x):[t.x,t.y]},x.scale=function(e){return arguments.length?(t={x:t.x,y:t.y,k:null},L(+e),R(),x):t.k},x.scaleExtent=function(e){return arguments.length?(u=null==e?We:[+e[0],+e[1]],x):u},x.center=function(e){return arguments.length?(o=e&&[+e[0],+e[1]],x):o},x.size=function(e){return arguments.length?(s=e&&[+e[0],+e[1]],x):s},x.duration=function(e){return arguments.length?(l=+e,x):l},x.x=function(e){return arguments.length?(_=e,y=e.copy(),t={x:0,y:0,k:1},x):_},x.y=function(e){return arguments.length?(E=e,b=e.copy(),t={x:0,y:0,k:1},x):E},e.rebind(x,v,"on")};var Ve,Ze,We=[0,1/0];e.color=Ye,Ye.prototype.toString=function(){return this.rgb()+""},e.hsl=Ke;var Xe=Ke.prototype=new Ye;Xe.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new Ke(this.h,this.s,this.l/e)},Xe.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new Ke(this.h,this.s,e*this.l)},Xe.rgb=function(){return Qe(this.h,this.s,this.l)},e.hcl=Je;var et=Je.prototype=new Ye;et.brighter=function(e){return new Je(this.h,this.c,Math.min(100,this.l+rt*(arguments.length?e:1)))},et.darker=function(e){return new Je(this.h,this.c,Math.max(0,this.l-rt*(arguments.length?e:1)))},et.rgb=function(){return tt(this.h,this.c,this.l).rgb()},e.lab=nt;var rt=18,it=.95047,at=1,ot=1.08883,st=nt.prototype=new Ye;st.brighter=function(e){return new nt(Math.min(100,this.l+rt*(arguments.length?e:1)),this.a,this.b)},st.darker=function(e){return new nt(Math.max(0,this.l-rt*(arguments.length?e:1)),this.a,this.b)},st.rgb=function(){return ut(this.l,this.a,this.b)},e.rgb=pt;var mt=pt.prototype=new Ye;mt.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&i>t&&(t=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new pt(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new pt(i,i,i)},mt.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new pt(e*this.r,e*this.g,e*this.b)},mt.hsl=function(){return _t(this.r,this.g,this.b)},mt.toString=function(){return"#"+vt(this.r)+vt(this.g)+vt(this.b)};var wt=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});wt.forEach(function(e,t){wt.set(e,dt(t))}),e.functor=Tt,e.xhr=Lt(M),e.dsv=function(e,t){function i(e,n,r){arguments.length<3&&(r=n,n=null);var i=At(e,t,null==n?a:o(n),r);return i.row=function(e){return arguments.length?i.response(null==(n=e)?a:o(e)):n},i}function a(e){return i.parse(e.responseText)}function o(e){return function(t){return i.parse(t.responseText,e)}}function s(t){return t.map(u).join(e)}function u(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var n=new RegExp('["'+e+"\n]"),r=e.charCodeAt(0);return i.parse=function(e,t){var n;return i.parseRows(e,function(e,r){if(n)return n(e,r-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");n=t?function(e,n){return t(i(e),n)}:i})},i.parseRows=function(e,t){function f(){if(s>=o)return i;if(c)return c=!1,n;var t=s;if(34===e.charCodeAt(t)){for(var a=t;a++<o;)if(34===e.charCodeAt(a)){if(34!==e.charCodeAt(a+1))break;++a}s=a+2;var u=e.charCodeAt(a+1);return 13===u?(c=!0,10===e.charCodeAt(a+2)&&++s):10===u&&(c=!0),e.slice(t+1,a).replace(/""/g,'"')}for(;o>s;){var u=e.charCodeAt(s++),l=1;if(10===u)c=!0;else if(13===u)c=!0,10===e.charCodeAt(s)&&(++s,++l);else if(u!==r)continue;return e.slice(t,s-l)}return e.slice(t)}for(var l,c,n={},i={},a=[],o=e.length,s=0,u=0;(l=f())!==i;){for(var h=[];l!==n&&l!==i;)h.push(l),l=f();t&&null==(h=t(h,u++))||a.push(h)}return a},i.format=function(t){if(Array.isArray(t[0]))return i.formatRows(t);var n=new O,r=[];return t.forEach(function(e){for(var t in e)n.has(t)||r.push(n.add(t))}),[r.map(u).join(e)].concat(t.map(function(t){return r.map(function(e){return u(t[e])}).join(e)})).join("\n")},i.formatRows=function(e){return e.map(s).join("\n")},i},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("	","text/tab-separated-values");var Ct,Nt,Pt,Ot,Mt=this[I(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};e.timer=function(){kt.apply(this,arguments)},e.timer.flush=function(){Dt(),qt()},e.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Ut=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Ft);e.formatPrefix=function(t,n){var r=0;return(t=+t)&&(0>t&&(t*=-1),n&&(t=e.round(t,Bt(t,n))),r=1+Math.floor(1e-12+Math.log(t)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),Ut[8+r/3]};var Gt=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ht=e.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(t,n){return(t=e.round(t,Bt(t,n))).toFixed(Math.max(0,Math.min(20,Bt(t*(1+1e-15),n))))}}),$t=e.time={},Wt=Date;Vt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Zt.setUTCDate.apply(this._,arguments)},setDay:function(){Zt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Zt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Zt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Zt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Zt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Zt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Zt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Zt.setTime.apply(this._,arguments)}};var Zt=Date.prototype;$t.year=Yt(function(e){return e=$t.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),$t.years=$t.year.range,$t.years.utc=$t.year.utc.range,$t.day=Yt(function(e){var t=new Wt(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),$t.days=$t.day.range,$t.days.utc=$t.day.utc.range,$t.dayOfYear=function(e){var t=$t.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=$t[e]=Yt(function(e){return(e=$t.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=$t.year(e).getDay();return Math.floor(($t.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});$t[e+"s"]=n.range,$t[e+"s"].utc=n.utc.range,$t[e+"OfYear"]=function(e){var n=$t.year(e).getDay();return Math.floor(($t.dayOfYear(e)+(n+t)%7)/7)}}),$t.week=$t.sunday,$t.weeks=$t.sunday.range,$t.weeks.utc=$t.sunday.utc.range,$t.weekOfYear=$t.sundayOfYear;var Qt={"-":"",_:" ",0:"0"},Jt=/^\s*\d+/,en=/^%/;e.locale=function(e){return{numberFormat:jt(e),timeFormat:Xt(e)}};var xn=e.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],
shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});e.format=xn.numberFormat,e.geo={},wn.prototype={s:0,t:0,add:function(e){Ln(e,this.t,Tn),Ln(Tn.s,this.s,this),this.s?this.t+=Tn.t:this.s=Tn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Tn=new wn;e.geo.stream=function(e,t){e&&Sn.hasOwnProperty(e.type)?Sn[e.type](e,t):An(e,t)};var Sn={Feature:function(e,t){An(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)An(n[r].geometry,t)}},Rn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Cn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Cn(n[r],t,0)},Polygon:function(e,t){Nn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Nn(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)An(n[r],t)}};e.geo.area=function(t){return Pn=0,e.geo.stream(t,Mn),Pn};var Pn,On=new wn,Mn={sphere:function(){Pn+=4*Ce},point:q,lineStart:q,lineEnd:q,polygonStart:function(){On.reset(),Mn.lineStart=kn},polygonEnd:function(){var e=2*On;Pn+=0>e?4*Ce+e:e,Mn.lineStart=Mn.lineEnd=Mn.point=q}};e.geo.bounds=function(){function p(e,a){c.push(f=[t=e,r=e]),n>a&&(n=a),a>i&&(i=a)}function d(e,o){var s=In([e*Me,o*Me]);if(u){var l=qn(u,s),c=[l[1],-l[0],0],f=qn(c,l);Fn(f),f=jn(f);var h=e-a,d=h>0?1:-1,g=f[0]*ke*d,m=_(h)>180;if(m^(g>d*a&&d*e>g)){var v=f[1]*ke;v>i&&(i=v)}else if(g=(g+360)%360-180,m^(g>d*a&&d*e>g)){var v=-f[1]*ke;n>v&&(n=v)}else n>o&&(n=o),o>i&&(i=o);m?a>e?E(t,e)>E(t,r)&&(r=e):E(e,r)>E(t,r)&&(t=e):r>=t?(t>e&&(t=e),e>r&&(r=e)):e>a?E(t,e)>E(t,r)&&(r=e):E(e,r)>E(t,r)&&(t=e)}else p(e,o);u=s,a=e}function g(){h.point=d}function m(){f[0]=t,f[1]=r,h.point=p,u=null}function v(e,t){if(u){var n=e-a;l+=_(n)>180?n+(n>0?360:-360):n}else o=e,s=t;Mn.point(e,t),d(e,t)}function y(){Mn.lineStart()}function b(){v(o,s),Mn.lineEnd(),_(l)>Se&&(t=-(r=180)),f[0]=t,f[1]=r,u=null}function E(e,t){return(t-=e)<0?t+360:t}function x(e,t){return e[0]-t[0]}function w(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var t,n,r,i,a,o,s,u,l,c,f,h={point:p,lineStart:g,lineEnd:m,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=b,l=0,Mn.polygonStart()},polygonEnd:function(){Mn.polygonEnd(),h.point=p,h.lineStart=g,h.lineEnd=m,0>On?(t=-(r=180),n=-(i=90)):l>Se?i=90:-Se>l&&(n=-90),f[0]=t,f[1]=r}};return function(a){i=r=-(t=n=1/0),c=[],e.geo.stream(a,h);var o=c.length;if(o){c.sort(x);for(var l,s=1,u=c[0],p=[u];o>s;++s)l=c[s],w(l[0],u)||w(l[1],u)?(E(u[0],l[1])>E(u[0],u[1])&&(u[1]=l[1]),E(l[0],u[1])>E(u[0],u[1])&&(u[0]=l[0])):p.push(u=l);for(var g,l,d=-(1/0),o=p.length-1,s=0,u=p[o];o>=s;u=l,++s)l=p[s],(g=E(u[1],l[0]))>d&&(d=g,t=l[0],r=u[1])}return c=f=null,t===1/0||n===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,n],[r,i]]}}(),e.geo.centroid=function(t){Hn=zn=$n=Wn=Vn=Zn=Yn=Kn=Xn=Qn=Jn=0,e.geo.stream(t,er);var n=Xn,r=Qn,i=Jn,a=n*n+r*r+i*i;return Re>a&&(n=Zn,r=Yn,i=Kn,Se>zn&&(n=$n,r=Wn,i=Vn),a=n*n+r*r+i*i,Re>a)?[NaN,NaN]:[Math.atan2(r,n)*ke,Be(i/Math.sqrt(a))*ke]};var Hn,zn,$n,Wn,Vn,Zn,Yn,Kn,Xn,Qn,Jn,er={sphere:q,point:tr,lineStart:rr,lineEnd:ir,polygonStart:function(){er.lineStart=ar},polygonEnd:function(){er.lineStart=rr}},gr=fr(sr,mr,yr,[-Ce,-Ce/2]),xr=1e9;e.geo.clipExtent=function(){var e,t,n,r,i,a,o={stream:function(e){return i&&(i.valid=!1),i=a(e),i.valid=!0,i},extent:function(s){return arguments.length?(a=wr(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),o):[[e,t],[n,r]]}};return o.extent([[0,0],[960,500]])},(e.geo.conicEqualArea=function(){return Tr(Lr)}).raw=Lr,e.geo.albers=function(){return e.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},e.geo.albersUsa=function(){function l(e){var t=e[0],n=e[1];return i=null,o(t,n),i||(s(t,n),i)||u(t,n),i}var i,o,s,u,t=e.geo.albers(),n=e.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),r=e.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a={point:function(e,t){i=[e,t]}};return l.invert=function(e){var i=t.scale(),a=t.translate(),o=(e[0]-a[0])/i,s=(e[1]-a[1])/i;return(s>=.12&&.234>s&&o>=-.425&&-.214>o?n:s>=.166&&.234>s&&o>=-.214&&-.115>o?r:t).invert(e)},l.stream=function(e){var i=t.stream(e),a=n.stream(e),o=r.stream(e);return{point:function(e,t){i.point(e,t),a.point(e,t),o.point(e,t)},sphere:function(){i.sphere(),a.sphere(),o.sphere()},lineStart:function(){i.lineStart(),a.lineStart(),o.lineStart()},lineEnd:function(){i.lineEnd(),a.lineEnd(),o.lineEnd()},polygonStart:function(){i.polygonStart(),a.polygonStart(),o.polygonStart()},polygonEnd:function(){i.polygonEnd(),a.polygonEnd(),o.polygonEnd()}}},l.precision=function(e){return arguments.length?(t.precision(e),n.precision(e),r.precision(e),l):t.precision()},l.scale=function(e){return arguments.length?(t.scale(e),n.scale(.35*e),r.scale(e),l.translate(t.translate())):t.scale()},l.translate=function(e){if(!arguments.length)return t.translate();var i=t.scale(),c=+e[0],f=+e[1];return o=t.translate(e).clipExtent([[c-.455*i,f-.238*i],[c+.455*i,f+.238*i]]).stream(a).point,s=n.translate([c-.307*i,f+.201*i]).clipExtent([[c-.425*i+Se,f+.12*i+Se],[c-.214*i-Se,f+.234*i-Se]]).stream(a).point,u=r.translate([c-.205*i,f+.212*i]).clipExtent([[c-.214*i+Se,f+.166*i+Se],[c-.115*i-Se,f+.234*i-Se]]).stream(a).point,l},l.scale(1070)};var Ar,Sr,Nr,Pr,Or,Mr,Rr={point:q,lineStart:q,lineEnd:q,polygonStart:function(){Sr=0,Rr.lineStart=Cr},polygonEnd:function(){Rr.lineStart=Rr.lineEnd=Rr.point=q,Ar+=_(Sr/2)}},kr={point:Ir,lineStart:q,lineEnd:q,polygonStart:q,polygonEnd:q},Br={point:Ur,lineStart:Fr,lineEnd:jr,polygonStart:function(){Br.lineStart=Gr},polygonEnd:function(){Br.point=Ur,Br.lineStart=Fr,Br.lineEnd=jr}};e.geo.path=function(){function s(n){return n&&("function"==typeof t&&a.pointRadius(+t.apply(this,arguments)),o&&o.valid||(o=i(a)),e.geo.stream(n,o)),a.result()}function u(){return o=null,s}var n,r,i,a,o,t=4.5;return s.area=function(t){return Ar=0,e.geo.stream(t,i(Rr)),Ar},s.centroid=function(t){return $n=Wn=Vn=Zn=Yn=Kn=Xn=Qn=Jn=0,e.geo.stream(t,i(Br)),Jn?[Xn/Jn,Qn/Jn]:Kn?[Zn/Kn,Yn/Kn]:Vn?[$n/Vn,Wn/Vn]:[NaN,NaN]},s.bounds=function(t){return Or=Mr=-(Nr=Pr=1/0),e.geo.stream(t,i(kr)),[[Nr,Pr],[Or,Mr]]},s.projection=function(e){return arguments.length?(i=(n=e)?e.stream||$r(e):M,u()):n},s.context=function(e){return arguments.length?(a=null==(r=e)?new Dr:new Hr(e),"function"!=typeof t&&a.pointRadius(t),u()):r},s.pointRadius=function(e){return arguments.length?(t="function"==typeof e?e:(a.pointRadius(+e),+e),s):t},s.projection(e.geo.albersUsa()).context(null)},e.geo.transform=function(e){return{stream:function(t){var n=new Wr(t);for(var r in e)n[r]=e[r];return n}}},Wr.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},e.geo.projection=Zr,e.geo.projectionMutator=Yr,(e.geo.equirectangular=function(){return Zr(Xr)}).raw=Xr.invert=Xr,e.geo.rotation=function(e){function t(t){return t=e(t[0]*Me,t[1]*Me),t[0]*=ke,t[1]*=ke,t}return e=Jr(e[0]%360*Me,e[1]*Me,e.length>2?e[2]*Me:0),t.invert=function(t){return t=e.invert(t[0]*Me,t[1]*Me),t[0]*=ke,t[1]*=ke,t},t},Qr.invert=Xr,e.geo.circle=function(){function i(){var t="function"==typeof e?e.apply(this,arguments):e,n=Jr(-t[0]*Me,-t[1]*Me,0).invert,i=[];return r(null,null,1,{point:function(e,t){i.push(e=n(e,t)),e[0]*=ke,e[1]*=ke}}),{type:"Polygon",coordinates:[i]}}var t,r,e=[0,0],n=6;return i.origin=function(t){return arguments.length?(e=t,i):e},i.angle=function(e){return arguments.length?(r=ri((t=+e)*Me,n*Me),i):t},i.precision=function(e){return arguments.length?(r=ri(t*Me,(n=+e)*Me),i):n},i.angle(90)},e.geo.distance=function(e,t){var f,n=(t[0]-e[0])*Me,r=e[1]*Me,i=t[1]*Me,a=Math.sin(n),o=Math.cos(n),s=Math.sin(r),u=Math.cos(r),l=Math.sin(i),c=Math.cos(i);return Math.atan2(Math.sqrt((f=c*a)*f+(f=u*l-s*c*o)*f),s*l+u*c*o)},e.geo.graticule=function(){function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return e.range(Math.ceil(i/f)*f,r,f).map(g).concat(e.range(Math.ceil(u/h)*h,s,h).map(m)).concat(e.range(Math.ceil(n/l)*l,t,l).filter(function(e){return _(e%f)>Se}).map(p)).concat(e.range(Math.ceil(o/c)*c,a,c).filter(function(e){return _(e%h)>Se}).map(d))}var t,n,r,i,a,o,s,u,p,d,g,m,l=10,c=l,f=90,h=360,v=2.5;return y.lines=function(){return b().map(function(e){return{type:"LineString",coordinates:e}})},y.outline=function(){return{type:"Polygon",coordinates:[g(i).concat(m(s).slice(1),g(r).reverse().slice(1),m(u).reverse().slice(1))]}},y.extent=function(e){return arguments.length?y.majorExtent(e).minorExtent(e):y.minorExtent()},y.majorExtent=function(e){return arguments.length?(i=+e[0][0],r=+e[1][0],u=+e[0][1],s=+e[1][1],i>r&&(e=i,i=r,r=e),u>s&&(e=u,u=s,s=e),y.precision(v)):[[i,u],[r,s]]},y.minorExtent=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],a=+e[1][1],n>t&&(e=n,n=t,t=e),o>a&&(e=o,o=a,a=e),y.precision(v)):[[n,o],[t,a]]},y.step=function(e){return arguments.length?y.majorStep(e).minorStep(e):y.minorStep()},y.majorStep=function(e){return arguments.length?(f=+e[0],h=+e[1],y):[f,h]},y.minorStep=function(e){return arguments.length?(l=+e[0],c=+e[1],y):[l,c]},y.precision=function(e){return arguments.length?(v=+e,p=ai(o,a,90),d=oi(n,t,v),g=ai(u,s,90),m=oi(i,r,v),y):v},y.majorExtent([[-180,-90+Se],[180,90-Se]]).minorExtent([[-180,-80-Se],[180,80+Se]])},e.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[n||t.apply(this,arguments),i||r.apply(this,arguments)]}}var n,i,t=si,r=ui;return a.distance=function(){return e.geo.distance(n||t.apply(this,arguments),i||r.apply(this,arguments))},a.source=function(e){return arguments.length?(t=e,n="function"==typeof e?null:e,a):t},a.target=function(e){return arguments.length?(r=e,i="function"==typeof e?null:e,a):r},a.precision=function(){return arguments.length?a:0},a},e.geo.interpolate=function(e,t){return li(e[0]*Me,e[1]*Me,t[0]*Me,t[1]*Me)},e.geo.length=function(t){return ci=0,e.geo.stream(t,fi),ci};var ci,fi={sphere:q,point:q,lineStart:hi,lineEnd:q,polygonStart:q,polygonEnd:q},di=pi(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(e.geo.azimuthalEqualArea=function(){return Zr(di)}).raw=di;var gi=pi(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},M);(e.geo.azimuthalEquidistant=function(){return Zr(gi)}).raw=gi,(e.geo.conicConformal=function(){return Tr(mi)}).raw=mi,(e.geo.conicEquidistant=function(){return Tr(vi)}).raw=vi;var yi=pi(function(e){return 1/e},Math.atan);(e.geo.gnomonic=function(){return Zr(yi)}).raw=yi,_i.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Oe]},(e.geo.mercator=function(){return bi(_i)}).raw=_i;var Ei=pi(function(){return 1},Math.asin);(e.geo.orthographic=function(){return Zr(Ei)}).raw=Ei;var xi=pi(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(e.geo.stereographic=function(){return Zr(xi)}).raw=xi,wi.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Oe]},(e.geo.transverseMercator=function(){var e=bi(wi),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=wi,e.geom={},e.geom.hull=function(e){function r(e){if(e.length<3)return[];var a,r=Tt(t),i=Tt(n),o=e.length,s=[],u=[];for(a=0;o>a;a++)s.push([+r.call(this,e[a],a),+i.call(this,e[a],a),a]);for(s.sort(Si),a=0;o>a;a++)u.push([s[a][0],-s[a][1]]);var l=Ai(s),c=Ai(u),f=c[0]===l[0],h=c[c.length-1]===l[l.length-1],p=[];for(a=l.length-1;a>=0;--a)p.push(e[s[l[a]][2]]);for(a=+f;a<c.length-h;++a)p.push(e[s[c[a]][2]]);return p}var t=Ti,n=Li;return arguments.length?r(e):(r.x=function(e){return arguments.length?(t=e,r):t},r.y=function(e){return arguments.length?(n=e,r):n},r)},e.geom.polygon=function(e){return z(e,Ri),e};var Ri=e.geom.polygon.prototype=[];Ri.area=function(){for(var n,e=-1,t=this.length,r=this[t-1],i=0;++e<t;)n=r,r=this[e],i+=n[1]*r[0]-n[0]*r[1];return.5*i},Ri.centroid=function(e){var a,s,t=-1,n=this.length,r=0,i=0,o=this[n-1];for(arguments.length||(e=-1/(6*this.area()));++t<n;)a=o,o=this[t],s=a[0]*o[1]-o[0]*a[1],r+=(a[0]+o[0])*s,i+=(a[1]+o[1])*s;return[r*e,i*e]},Ri.clip=function(e){for(var t,a,o,u,l,c,n=Pi(e),r=-1,i=this.length-Pi(this),s=this[i-1];++r<i;){for(t=e.slice(),e.length=0,u=this[r],l=t[(o=t.length-n)-1],a=-1;++a<o;)c=t[a],Ci(c,s,u)?(Ci(l,s,u)||e.push(Ni(l,c,s,u)),e.push(c)):Ci(l,s,u)&&e.push(Ni(l,c,s,u)),l=c;n&&e.push(e[0]),s=u}return e};var Oi,Mi,ki,Di,qi,Ii=[],Bi=[];Wi.prototype.prepare=function(){for(var n,e=this.edges,t=e.length;t--;)n=e[t].edge,n.b&&n.a||e.splice(t,1);return e.sort(Zi),e.length},ia.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},aa.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=la(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(sa(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ua(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(ua(this,n),e=n,n=e.U),n.C=!1,r.C=!0,sa(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var n,a,o,t=e.U,r=e.L,i=e.R;if(a=r?i?la(i):r:i,t?t.L===e?t.L=a:t.R=a:this._=a,r&&i?(o=a.C,a.C=e.C,a.L=r,r.U=a,a!==i?(t=a.U,a.U=e.U,e=a.R,t.L=e,a.R=i,i.U=a):(a.U=t,t=a,e=a.R)):(o=e.C,e=a),e&&(e.U=t),!o){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===t.L){if(n=t.R,n.C&&(n.C=!1,t.C=!0,sa(this,t),n=t.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,ua(this,n),n=t.R),n.C=t.C,t.C=n.R.C=!1,sa(this,t),e=this._;break}}else if(n=t.L,n.C&&(n.C=!1,t.C=!0,ua(this,t),n=t.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,sa(this,n),n=t.L),n.C=t.C,t.C=n.L.C=!1,ua(this,t),e=this._;break}n.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}},e.geom.voronoi=function(e){function o(e){var t=new Array(e.length),n=a[0][0],r=a[0][1],i=a[1][0],o=a[1][1];return ca(s(e),a).cells.forEach(function(a,s){var u=a.edges,l=a.site,c=t[s]=u.length?u.map(function(e){var t=e.start();return[t.x,t.y]}):l.x>=n&&l.x<=i&&l.y>=r&&l.y<=o?[[n,o],[i,o],[i,r],[n,r]]:[];c.point=e[s]}),t}function s(e){return e.map(function(e,t){return{x:Math.round(r(e,t)/Se)*Se,y:Math.round(i(e,t)/Se)*Se,i:t}})}var t=Ti,n=Li,r=t,i=n,a=ha;return e?o(e):(o.links=function(e){return ca(s(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},o.triangles=function(e){var t=[];return ca(s(e)).cells.forEach(function(n,r){for(var u,l,i=n.site,a=n.edges.sort(Zi),o=-1,s=a.length,c=a[s-1].edge,f=c.l===i?c.r:c.l;++o<s;)u=c,l=f,c=a[o].edge,f=c.l===i?c.r:c.l,r<l.i&&r<f.i&&pa(i,l,f)<0&&t.push([e[r],e[l.i],e[f.i]])}),t},o.x=function(e){return arguments.length?(r=Tt(t=e),o):t},o.y=function(e){return arguments.length?(i=Tt(n=e),o):n},o.clipExtent=function(e){return arguments.length?(a=null==e?ha:e,o):a===ha?null:a},o.size=function(e){return arguments.length?o.clipExtent(e&&[[0,0],e]):a===ha?null:a&&a[1]},o)};var ha=[[-1e6,-1e6],[1e6,1e6]];e.geom.delaunay=function(t){return e.geom.voronoi().triangles(t)},e.geom.quadtree=function(e,t,n,r,i){function u(e){function T(e,t,n,r,i,a,o,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var u=e.x,l=e.y;if(null!=u)if(_(u-n)+_(l-r)<.01)L(e,t,n,r,i,a,o,s);else{var c=e.point;e.x=e.y=e.point=null,L(e,c,u,l,i,a,o,s),L(e,t,n,r,i,a,o,s)}else e.x=n,e.y=r,e.point=t}else L(e,t,n,r,i,a,o,s)}function L(e,t,n,r,i,a,o,s){var u=.5*(i+o),l=.5*(a+s),c=n>=u,f=r>=l,h=f<<1|c;e.leaf=!1,e=e.nodes[h]||(e.nodes[h]=ma()),c?i=u:o=u,f?a=l:s=l,T(e,t,n,r,i,a,o,s)}var u,f,h,p,d,g,m,v,y,l=Tt(a),c=Tt(o);if(null!=t)g=t,m=n,v=r,y=i;else if(v=y=-(g=m=1/0),f=[],h=[],d=e.length,s)for(p=0;d>p;++p)u=e[p],u.x<g&&(g=u.x),u.y<m&&(m=u.y),u.x>v&&(v=u.x),u.y>y&&(y=u.y),f.push(u.x),h.push(u.y);else for(p=0;d>p;++p){var b=+l(u=e[p],p),E=+c(u,p);g>b&&(g=b),m>E&&(m=E),b>v&&(v=b),E>y&&(y=E),f.push(b),h.push(E)}var x=v-g,w=y-m;x>w?y=m+x:v=g+w;var A=ma();if(A.add=function(e){T(A,e,+l(e,++p),+c(e,p),g,m,v,y)},A.visit=function(e){va(e,A,g,m,v,y)},A.find=function(e){return ya(A,e[0],e[1],g,m,v,y)},p=-1,null==t){for(;++p<d;)T(A,e[p],f[p],h[p],g,m,v,y);--p}else e.forEach(A.add);return f=h=e=u=null,A}var s,a=Ti,o=Li;return(s=arguments.length)?(a=da,o=ga,3===s&&(i=n,r=t,n=t=0),u(e)):(u.x=function(e){return arguments.length?(a=e,u):a},u.y=function(e){return arguments.length?(o=e,u):o},u.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),u):null==t?null:[[t,n],[r,i]]},u.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),u):null==t?null:[r-t,i-n]},u)},e.interpolateRgb=_a,e.interpolateObject=ba,e.interpolateNumber=Ea,e.interpolateString=xa;var wa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ta=new RegExp(wa.source,"g");e.interpolate=La,e.interpolators=[function(e,t){var n=typeof t;return("string"===n?wt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?_a:xa:t instanceof Ye?_a:Array.isArray(t)?Aa:"object"===n&&isNaN(t)?ba:Ea)(e,t)}],e.interpolateArray=Aa;var Sa=function(){return M},Ra=e.map({linear:Sa,poly:Da,quad:function(){return Ma},cubic:function(){return ka},sin:function(){return qa},exp:function(){return Ba},circle:function(){return Ua},elastic:Fa,back:ja,bounce:function(){return Ga}}),Ca=e.map({"in":M,out:Pa,"in-out":Oa,"out-in":function(e){return Oa(Pa(e))}});e.ease=function(e){var n=e.indexOf("-"),r=n>=0?e.slice(0,n):e,i=n>=0?e.slice(n+1):"in";return r=Ra.get(r)||Sa,i=Ca.get(i)||M,Na(i(r.apply(null,t.call(arguments,1))))},e.interpolateHcl=Ha,e.interpolateHsl=za,e.interpolateLab=$a,e.interpolateRound=Wa,e.transform=function(t){var n=r.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(e){if(null!=e){n.setAttribute("transform",e);var t=n.transform.baseVal.consolidate()}return new Va(t?t.matrix:Xa)})(t)},Va.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Xa={a:1,b:0,c:0,d:1,e:0,f:0};e.interpolateTransform=ro,e.layout={},e.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(oo(e[n]));return t}},e.layout.chord=function(){function c(){var d,g,m,v,y,t={},c=[],h=e.range(a),p=[];for(n=[],r=[],d=0,v=-1;++v<a;){for(g=0,y=-1;++y<a;)g+=i[v][y];c.push(g),p.push(e.range(a)),d+=g}for(s&&h.sort(function(e,t){return s(c[e],c[t])}),u&&p.forEach(function(e,t){e.sort(function(e,n){return u(i[t][e],i[t][n])})}),d=(Ne-o*a)/d,g=0,v=-1;++v<a;){for(m=g,y=-1;++y<a;){var _=h[v],b=p[_][y],E=i[_][b],x=g,w=g+=E*d;t[_+"-"+b]={index:_,subindex:b,startAngle:x,endAngle:w,value:E}}r[_]={index:_,startAngle:m,endAngle:g,value:c[_]},g+=o}for(v=-1;++v<a;)for(y=v-1;++y<a;){var T=t[v+"-"+y],L=t[y+"-"+v];(T.value||L.value)&&n.push(T.value<L.value?{source:L,target:T}:{source:T,target:L})}l&&f()}function f(){n.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,i,a,s,u,l,t={},o=0;return t.matrix=function(e){return arguments.length?(a=(i=e)&&i.length,n=r=null,t):i},t.padding=function(e){return arguments.length?(o=e,n=r=null,t):o},t.sortGroups=function(e){return arguments.length?(s=e,n=r=null,t):s},t.sortSubgroups=function(e){return arguments.length?(u=e,n=null,t):u},t.sortChords=function(e){return arguments.length?(l=e,n&&f(),t):l},t.chords=function(){return n||c(),n},t.groups=function(){return r||c(),r},t},e.layout.force=function(){function _(e){return function(t,n,r,i){if(t.point!==e){var a=t.cx-e.x,o=t.cy-e.y,s=i-n,u=a*a+o*o;if(u>s*s/p){if(f>u){var l=t.charge/u;e.px-=a*l,e.py-=o*l}return!0}if(t.point&&u&&f>u){var l=t.pointCharge/u;e.px-=a*l,e.py-=o*l}}return!t.charge}}function b(n){n.px=e.event.x,n.py=e.event.y,t.resume()}var r,a,o,m,v,y,t={},n=e.dispatch("start","tick","end"),i=[1,1],s=.9,u=go,l=mo,c=-30,f=vo,h=.1,p=.64,d=[],g=[];return t.tick=function(){if((o*=.99)<.005)return r=null,n.end({type:"end",alpha:o=0}),!0;var u,l,f,p,b,E,x,w,T,t=d.length,a=g.length;for(l=0;a>l;++l)f=g[l],p=f.source,b=f.target,w=b.x-p.x,T=b.y-p.y,(E=w*w+T*T)&&(E=o*v[l]*((E=Math.sqrt(E))-m[l])/E,w*=E,T*=E,b.x-=w*(x=p.weight+b.weight?p.weight/(p.weight+b.weight):.5),b.y-=T*x,p.x+=w*(x=1-x),p.y+=T*x);if((x=o*h)&&(w=i[0]/2,T=i[1]/2,l=-1,x))for(;++l<t;)f=d[l],f.x+=(w-f.x)*x,f.y+=(T-f.y)*x;if(c)for(po(u=e.geom.quadtree(d),o,y),l=-1;++l<t;)(f=d[l]).fixed||u.visit(_(f));for(l=-1;++l<t;)f=d[l],f.fixed?(f.x=f.px,f.y=f.py):(f.x-=(f.px-(f.px=f.x))*s,f.y-=(f.py-(f.py=f.y))*s);n.tick({type:"tick",alpha:o})},t.nodes=function(e){return arguments.length?(d=e,t):d},t.links=function(e){return arguments.length?(g=e,t):g},t.size=function(e){return arguments.length?(i=e,t):i},t.linkDistance=function(e){return arguments.length?(u="function"==typeof e?e:+e,t):u},t.distance=t.linkDistance,t.linkStrength=function(e){return arguments.length?(l="function"==typeof e?e:+e,t):l},t.friction=function(e){return arguments.length?(s=+e,t):s},t.charge=function(e){return arguments.length?(c="function"==typeof e?e:+e,t):c},t.chargeDistance=function(e){return arguments.length?(f=e*e,t):Math.sqrt(f)},t.gravity=function(e){return arguments.length?(h=+e,t):h},t.theta=function(e){return arguments.length?(p=e*e,t):Math.sqrt(p)},t.alpha=function(e){return arguments.length?(e=+e,o?e>0?o=e:(r.c=null,r.t=NaN,r=null,n.end({type:"end",alpha:o=0})):e>0&&(n.start({type:"start",alpha:o=e}),r=kt(t.tick)),t):o},t.start=function(){function h(t,i){if(!s){for(s=new Array(n),u=0;n>u;++u)s[u]=[];for(u=0;r>u;++u){var a=g[u];s[a.source.index].push(a.target),s[a.target.index].push(a.source)}}for(var c,o=s[e],u=-1,l=o.length;++u<l;)if(!isNaN(c=o[u][t]))return c;return Math.random()*i}var e,s,f,n=d.length,r=g.length,a=i[0],o=i[1];for(e=0;n>e;++e)(f=d[e]).index=e,f.weight=0;for(e=0;r>e;++e)f=g[e],"number"==typeof f.source&&(f.source=d[f.source]),"number"==typeof f.target&&(f.target=d[f.target]),++f.source.weight,++f.target.weight;for(e=0;n>e;++e)f=d[e],isNaN(f.x)&&(f.x=h("x",a)),isNaN(f.y)&&(f.y=h("y",o)),isNaN(f.px)&&(f.px=f.x),isNaN(f.py)&&(f.py=f.y);if(m=[],"function"==typeof u)for(e=0;r>e;++e)m[e]=+u.call(this,g[e],e);else for(e=0;r>e;++e)m[e]=u;if(v=[],"function"==typeof l)for(e=0;r>e;++e)v[e]=+l.call(this,g[e],e);else for(e=0;r>e;++e)v[e]=l;if(y=[],"function"==typeof c)for(e=0;n>e;++e)y[e]=+c.call(this,d[e],e);else for(e=0;n>e;++e)y[e]=c;return t.resume()},t.resume=function(){return t.alpha(.1)},t.stop=function(){return t.alpha(0)},t.drag=function(){return a||(a=e.behavior.drag().origin(M).on("dragstart.force",lo).on("drag.force",b).on("dragend.force",co)),arguments.length?void this.on("mouseover.force",fo).on("mouseout.force",ho).call(a):a},e.rebind(t,n,"on")};var go=20,mo=1,vo=1/0;e.layout.hierarchy=function(){function r(i){var s,a=[i],o=[];for(i.depth=0;null!=(s=a.pop());)if(o.push(s),(l=t.call(r,s,s.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=s,c.depth=s.depth+1;n&&(s.value=0),s.children=l}else n&&(s.value=+n.call(r,s,s.depth)||0),delete s.children;return bo(i,function(t){var r,i;e&&(r=t.children)&&r.sort(e),n&&(i=t.parent)&&(i.value+=t.value)}),o}var e=wo,t=Eo,n=xo;return r.sort=function(t){return arguments.length?(e=t,r):e},r.children=function(e){return arguments.length?(t=e,r):t},r.value=function(e){return arguments.length?(n=e,r):n},r.revalue=function(e){return n&&(_o(e,function(e){e.children&&(e.value=0)}),bo(e,function(e){var t;e.children||(e.value=+n.call(r,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)})),e},r},e.layout.partition=function(){function r(e,t,n,i){var a=e.children;if(e.x=t,e.y=e.depth*i,e.dx=n,e.dy=i,a&&(s=a.length)){var s,u,l,o=-1;for(n=e.value?n/e.value:0;++o<s;)r(u=a[o],t,l=u.value*n,i),t+=l}}function i(e){var t=e.children,n=0;if(t&&(a=t.length))for(var a,r=-1;++r<a;)n=Math.max(n,i(t[r]));return 1+n}function a(e,a){var o=t.call(this,e,a);return r(o[0],0,n[0],n[1]/i(o[0])),o}var t=e.layout.hierarchy(),n=[1,1];return a.size=function(e){return arguments.length?(n=e,a):n},yo(a,t)},e.layout.pie=function(){function o(s){var y,u=s.length,l=s.map(function(e,n){return+t.call(o,e,n)}),c=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof i?i.apply(this,arguments):i)-c,h=Math.min(Math.abs(f)/u,+("function"==typeof a?a.apply(this,arguments):a)),p=h*(0>f?-1:1),d=e.sum(l),g=d?(f-u*p)/d:0,m=e.range(u),v=[];return null!=n&&m.sort(n===Lo?function(e,t){return l[t]-l[e]}:function(e,t){return n(s[e],s[t])}),m.forEach(function(e){v[e]={data:s[e],value:y=l[e],startAngle:c,endAngle:c+=y*g+p,padAngle:h}}),v}var t=Number,n=Lo,r=0,i=Ne,a=0;return o.value=function(e){return arguments.length?(t=e,o):t},o.sort=function(e){return arguments.length?(n=e,o):n},o.startAngle=function(e){return arguments.length?(r=e,o):r},o.endAngle=function(e){return arguments.length?(i=e,o):i},o.padAngle=function(e){return arguments.length?(a=e,o):a},o};var Lo={};e.layout.stack=function(){function s(u,l){if(!(g=u.length))return u;var c=u.map(function(e,n){return t.call(s,e,n)}),f=c.map(function(e){return e.map(function(e,t){return[a.call(s,e,t),o.call(s,e,t)]})}),h=n.call(s,f,l);c=e.permute(c,h),f=e.permute(f,h);var g,m,v,y,p=r.call(s,f,l),d=c[0].length;for(v=0;d>v;++v)for(i.call(s,c[0][v],y=p[v],f[0][v][1]),m=1;g>m;++m)i.call(s,c[m][v],y+=f[m-1][v][1],f[m][v][1]);return u}var t=M,n=Po,r=Oo,i=Ro,a=Ao,o=So;return s.values=function(e){return arguments.length?(t=e,s):t},s.order=function(e){return arguments.length?(n="function"==typeof e?e:Co.get(e)||Po,s):n},s.offset=function(e){return arguments.length?(r="function"==typeof e?e:No.get(e)||Oo,s):r},s.x=function(e){return arguments.length?(a=e,s):a},s.y=function(e){return arguments.length?(o=e,s):o},s.out=function(e){return arguments.length?(i=e,s):i},s};var Co=e.map({"inside-out":function(t){var r,i,n=t.length,a=t.map(Mo),o=t.map(ko),s=e.range(n).sort(function(e,t){return a[e]-a[t]}),u=0,l=0,c=[],f=[];for(r=0;n>r;++r)i=s[r],l>u?(u+=o[i],c.push(i)):(l+=o[i],f.push(i));return f.reverse().concat(c)},reverse:function(t){return e.range(t.length).reverse()},"default":Po}),No=e.map({silhouette:function(e){var a,o,s,t=e.length,n=e[0].length,r=[],i=0,u=[];for(o=0;n>o;++o){for(a=0,s=0;t>a;a++)s+=e[a][o][1];s>i&&(i=s),r.push(s)}for(o=0;n>o;++o)u[o]=(i-r[o])/2;return u},wiggle:function(e){var i,a,o,s,u,l,c,f,h,t=e.length,n=e[0],r=n.length,p=[];for(p[0]=f=h=0,a=1;r>a;++a){for(i=0,s=0;t>i;++i)s+=e[i][a][1];for(i=0,u=0,c=n[a][0]-n[a-1][0];t>i;++i){for(o=0,l=(e[i][a][1]-e[i][a-1][1])/(2*c);i>o;++o)l+=(e[o][a][1]-e[o][a-1][1])/c;u+=l*e[i][a][1]}p[a]=f-=s?u/s*c:0,h>f&&(h=f)}for(a=0;r>a;++a)p[a]-=h;return p},expand:function(e){var i,a,o,t=e.length,n=e[0].length,r=1/t,s=[];for(a=0;n>a;++a){for(i=0,o=0;t>i;i++)o+=e[i][a][1];if(o)for(i=0;t>i;i++)e[i][a][1]/=o;else for(i=0;t>i;i++)e[i][a][1]=r}for(a=0;n>a;++a)s[a]=0;return s},zero:Oo});e.layout.histogram=function(){function a(a,o){for(var f,g,s=[],u=a.map(n,this),l=r.call(this,u,o),c=i.call(this,l,u,o),o=-1,h=u.length,p=c.length-1,d=t?1:1/h;++o<p;)f=s[o]=[],f.dx=c[o+1]-(f.x=c[o]),f.y=0;if(p>0)for(o=-1;++o<h;)g=u[o],g>=l[0]&&g<=l[1]&&(f=s[e.bisect(c,g,1,p)-1],f.y+=d,f.push(a[o]));return s}var t=!0,n=Number,r=Bo,i=Do;return a.value=function(e){return arguments.length?(n=e,a):n},a.range=function(e){return arguments.length?(r=Tt(e),a):r},a.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return qo(t,e)}:Tt(e),a):i},a.frequency=function(e){return arguments.length?(t=!!e,a):t},a},e.layout.pack=function(){function a(e,a){var o=t.call(this,e,a),s=o[0],u=r[0],l=r[1],c=null==i?Math.sqrt:"function"==typeof i?i:function(){return i};if(s.x=s.y=0,bo(s,function(e){e.r=+c(e.value)}),bo(s,Ho),n){var f=n*(i?1:Math.max(2*s.r/u,2*s.r/l))/2;bo(s,function(e){e.r+=f}),bo(s,Ho),bo(s,function(e){e.r-=f})}return Wo(s,u/2,l/2,i?1:1/Math.max(2*s.r/u,2*s.r/l)),o}var i,t=e.layout.hierarchy().sort(Uo),n=0,r=[1,1];return a.size=function(e){return arguments.length?(r=e,a):r},a.radius=function(e){return arguments.length?(i=null==e||"function"==typeof e?e:+e,a):i},a.padding=function(e){return arguments.length?(n=+e,a):n},yo(a,t)},e.layout.tree=function(){function a(e,a){var l=t.call(this,e,a),f=l[0],h=o(f);if(bo(h,s),h.parent.m=-h.z,_o(h,u),i)_o(f,c);else{var p=f,d=f,g=f;_o(f,function(e){e.x<p.x&&(p=e),e.x>d.x&&(d=e),e.depth>g.depth&&(g=e)});var m=n(p,d)/2-p.x,v=r[0]/(d.x+n(d,p)/2+m),y=r[1]/(g.depth||1);_o(f,function(e){e.x=(e.x+m)*v,e.y=e.depth*y})}return l}function o(e){for(var r,t={A:null,children:[e]},n=[t];null!=(r=n.pop());)for(var a,i=r.children,o=0,s=i.length;s>o;++o)n.push((i[o]=a={_:i[o],parent:r,children:(a=i[o].children)&&a.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=a);return t.children[0]}function s(e){var t=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(t.length){Qo(e);var a=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+n(e._,i._),e.m=e.z-a):e.z=a}else i&&(e.z=i.z+n(e._,i._));e.parent.A=l(e,i,e.parent.A||r[0])}function u(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function l(e,t,r){if(t){for(var h,i=e,a=e,o=t,s=i.parent.children[0],u=i.m,l=a.m,c=o.m,f=s.m;o=Ko(o),i=Yo(i),o&&i;)s=Yo(s),a=Ko(a),a.a=e,h=o.z+c-i.z-u+n(o._,i._),h>0&&(Xo(Jo(o,e,r),e,h),u+=h,l+=h),c+=o.m,u+=i.m,f+=s.m,l+=a.m;o&&!Ko(a)&&(a.t=o,a.m+=c-l),i&&!Yo(s)&&(s.t=i,s.m+=u-f,r=e)}return r}function c(e){e.x*=r[0],e.y=e.depth*r[1]}var t=e.layout.hierarchy().sort(null).value(null),n=Zo,r=[1,1],i=null;return a.separation=function(e){return arguments.length?(n=e,a):n},a.size=function(e){return arguments.length?(i=null==(r=e)?c:null,a):i?null:r},a.nodeSize=function(e){return arguments.length?(i=null==(r=e)?null:c,a):i?r:null},yo(a,t)},e.layout.cluster=function(){function a(e,a){var u,o=t.call(this,e,a),s=o[0],l=0;bo(s,function(e){var t=e.children;t&&t.length?(e.x=ts(t),e.y=es(t)):(e.x=u?l+=n(e,u):0,e.y=0,u=e)});var c=ns(s),f=rs(s),h=c.x-n(c,f)/2,p=f.x+n(f,c)/2;return bo(s,i?function(e){e.x=(e.x-s.x)*r[0],e.y=(s.y-e.y)*r[1]}:function(e){e.x=(e.x-h)/(p-h)*r[0],e.y=(1-(s.y?e.y/s.y:1))*r[1]}),o}var t=e.layout.hierarchy().sort(null).value(null),n=Zo,r=[1,1],i=!1;return a.separation=function(e){return arguments.length?(n=e,a):n},a.size=function(e){return arguments.length?(i=null==(r=e),a):i?null:r},a.nodeSize=function(e){return arguments.length?(i=null!=(r=e),a):i?r:null},yo(a,t)},e.layout.treemap=function(){function c(e,t){for(var i,a,n=-1,r=e.length;++n<r;)a=(i=e[n]).value*(0>t?0:t),i.area=isNaN(a)||0>=a?0:a}function f(e){var t=e.children;if(t&&t.length){var o,l,g,n=a(e),r=[],i=t.slice(),s=1/0,h="slice"===u?n.dx:"dice"===u?n.dy:"slice-dice"===u?1&e.depth?n.dy:n.dx:Math.min(n.dx,n.dy);for(c(i,n.dx*n.dy/e.value),r.area=0;(g=i.length)>0;)r.push(o=i[g-1]),r.area+=o.area,"squarify"!==u||(l=p(r,h))<=s?(i.pop(),s=l):(r.area-=r.pop().area,d(r,h,n,!1),h=Math.min(n.dx,n.dy),r.length=r.area=0,s=1/0);r.length&&(d(r,h,n,!0),r.length=r.area=0),t.forEach(f)}}function h(e){var t=e.children;if(t&&t.length){var i,n=a(e),r=t.slice(),o=[];for(c(r,n.dx*n.dy/e.value),o.area=0;i=r.pop();)o.push(i),o.area+=i.area,null!=i.z&&(d(o,i.z?n.dx:n.dy,n,!r.length),o.length=o.area=0);t.forEach(h)}}function p(e,t){for(var r,n=e.area,i=0,a=1/0,o=-1,s=e.length;++o<s;)(r=e[o].area)&&(a>r&&(a=r),r>i&&(i=r));return n*=n,t*=t,n?Math.max(t*i*l/n,n/(t*a*l)):1/0}function d(e,t,r,i){var c,a=-1,o=e.length,s=r.x,u=r.y,l=t?n(e.area/t):0;if(t==r.dx){for((i||l>r.dy)&&(l=r.dy);++a<o;)c=e[a],c.x=s,c.y=u,c.dy=l,s+=c.dx=Math.min(r.x+r.dx-s,l?n(c.area/l):0);c.z=!0,c.dx+=r.x+r.dx-s,r.y+=l,r.dy-=l}else{for((i||l>r.dx)&&(l=r.dx);++a<o;)c=e[a],c.x=s,c.y=u,c.dx=l,u+=c.dy=Math.min(r.y+r.dy-u,l?n(c.area/l):0);
c.z=!1,c.dy+=r.y+r.dy-u,r.x+=l,r.dx-=l}}function g(e){var n=s||t(e),i=n[0];return i.x=i.y=0,i.value?(i.dx=r[0],i.dy=r[1]):i.dx=i.dy=0,s&&t.revalue(i),c([i],i.dx*i.dy/i.value),(s?h:f)(i),o&&(s=n),n}var s,t=e.layout.hierarchy(),n=Math.round,r=[1,1],i=null,a=is,o=!1,u="squarify",l=.5*(1+Math.sqrt(5));return g.size=function(e){return arguments.length?(r=e,g):r},g.padding=function(e){function t(t){var n=e.call(g,t,t.depth);return null==n?is(t):as(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return as(t,e)}if(!arguments.length)return i;var r;return a=null==(i=e)?is:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,g},g.round=function(e){return arguments.length?(n=e?Math.round:Number,g):n!=Number},g.sticky=function(e){return arguments.length?(o=e,s=null,g):o},g.ratio=function(e){return arguments.length?(l=e,g):l},g.mode=function(e){return arguments.length?(u=e+"",g):u},yo(g,t)},e.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=e.random.normal.apply(e,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=e.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},e.scale={};var fs={floor:M,ceil:M};e.scale.linear=function(){return ps([0,1],[0,1],La,!1)};var _s={s:1,g:1,p:1,r:1,e:1};e.scale.log=function(){return xs(e.scale.linear().domain([0,1]),10,!0,[1,10])};var ws=e.format(".0e"),Ts={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};e.scale.pow=function(){return Ls(e.scale.linear(),1,[0,1])},e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return Ss([],{t:"range",a:[[]]})},e.scale.category10=function(){return e.scale.ordinal().range(Rs)},e.scale.category20=function(){return e.scale.ordinal().range(Cs)},e.scale.category20b=function(){return e.scale.ordinal().range(Ns)},e.scale.category20c=function(){return e.scale.ordinal().range(Ps)};var Rs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(gt),Cs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(gt),Ns=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(gt),Ps=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(gt);e.scale.quantile=function(){return Os([],[])},e.scale.quantize=function(){return Ms(0,1,[0,1])},e.scale.threshold=function(){return ks([.5],[0,1])},e.scale.identity=function(){return Is([0,1])},e.svg={},e.svg.arc=function(){function s(){var s=Math.max(0,+e.apply(this,arguments)),l=Math.max(0,+t.apply(this,arguments)),c=i.apply(this,arguments)-Oe,f=a.apply(this,arguments)-Oe,h=Math.abs(f-c),p=c>f?0:1;if(s>l&&(d=l,l=s,s=d),h>=Pe)return u(l,p)+(s?u(s,1-p):"")+"Z";var d,g,m,v,b,E,x,w,T,L,A,S,y=0,_=0,R=[];if((v=(+o.apply(this,arguments)||0)/2)&&(m=r===qs?Math.sqrt(s*s+l*l):+r.apply(this,arguments),p||(_*=-1),l&&(_=Be(m/l*Math.sin(v))),s&&(y=Be(m/s*Math.sin(v)))),l){b=l*Math.cos(c+_),E=l*Math.sin(c+_),x=l*Math.cos(f-_),w=l*Math.sin(f-_);var C=Math.abs(f-c-2*_)<=Ce?0:1;if(_&&Hs(b,E,x,w)===p^C){var N=(c+f)/2;b=l*Math.cos(N),E=l*Math.sin(N),x=w=null}}else b=E=0;if(s){T=s*Math.cos(f-y),L=s*Math.sin(f-y),A=s*Math.cos(c+y),S=s*Math.sin(c+y);var P=Math.abs(c-f+2*y)<=Ce?0:1;if(y&&Hs(T,L,A,S)===1-p^P){var O=(c+f)/2;T=s*Math.cos(O),L=s*Math.sin(O),A=S=null}}else T=L=0;if(h>Se&&(d=Math.min(Math.abs(l-s)/2,+n.apply(this,arguments)))>.001){g=l>s^p?0:1;var M=d,k=d;if(Ce>h){var I=null==A?[T,L]:null==x?[b,E]:Ni([b,E],[A,S],[x,w],[T,L]),D=b-I[0],q=E-I[1],B=x-I[0],U=w-I[1],F=1/Math.sin(Math.acos((D*B+q*U)/(Math.sqrt(D*D+q*q)*Math.sqrt(B*B+U*U)))/2),j=Math.sqrt(I[0]*I[0]+I[1]*I[1]);k=Math.min(d,(s-j)/(F-1)),M=Math.min(d,(l-j)/(F+1))}if(null!=x){var G=zs(null==A?[T,L]:[A,S],[b,E],l,M,p),H=zs([x,w],[T,L],l,M,p);d===M?R.push("M",G[0],"A",M,",",M," 0 0,",g," ",G[1],"A",l,",",l," 0 ",1-p^Hs(G[1][0],G[1][1],H[1][0],H[1][1]),",",p," ",H[1],"A",M,",",M," 0 0,",g," ",H[0]):R.push("M",G[0],"A",M,",",M," 0 1,",g," ",H[0])}else R.push("M",b,",",E);if(null!=A){var z=zs([b,E],[A,S],s,-k,p),$=zs([T,L],null==x?[b,E]:[x,w],s,-k,p);d===k?R.push("L",$[0],"A",k,",",k," 0 0,",g," ",$[1],"A",s,",",s," 0 ",p^Hs($[1][0],$[1][1],z[1][0],z[1][1]),",",1-p," ",z[1],"A",k,",",k," 0 0,",g," ",z[0]):R.push("L",$[0],"A",k,",",k," 0 0,",g," ",z[0])}else R.push("L",T,",",L)}else R.push("M",b,",",E),null!=x&&R.push("A",l,",",l," 0 ",C,",",p," ",x,",",w),R.push("L",T,",",L),null!=A&&R.push("A",s,",",s," 0 ",P,",",1-p," ",A,",",S);return R.push("Z"),R.join("")}function u(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var e=Bs,t=Us,n=Ds,r=qs,i=Fs,a=js,o=Gs;return s.innerRadius=function(t){return arguments.length?(e=Tt(t),s):e},s.outerRadius=function(e){return arguments.length?(t=Tt(e),s):t},s.cornerRadius=function(e){return arguments.length?(n=Tt(e),s):n},s.padRadius=function(e){return arguments.length?(r=e==qs?qs:Tt(e),s):r},s.startAngle=function(e){return arguments.length?(i=Tt(e),s):i},s.endAngle=function(e){return arguments.length?(a=Tt(e),s):a},s.padAngle=function(e){return arguments.length?(o=Tt(e),s):o},s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Oe;return[Math.cos(r)*n,Math.sin(r)*n]},s};var qs="auto";e.svg.line=function(){return $s(M)};var Ws=e.map({linear:Vs,"linear-closed":Zs,step:Ys,"step-before":Ks,"step-after":Xs,basis:ru,"basis-open":iu,"basis-closed":au,bundle:ou,cardinal:eu,"cardinal-open":Qs,"cardinal-closed":Js,monotone:gu});Ws.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var uu=[0,2/3,1/3,0],lu=[0,1/3,2/3,0],cu=[0,1/6,2/3,1/6];e.svg.line.radial=function(){var e=$s(mu);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Ks.reverse=Xs,Xs.reverse=Ks,e.svg.area=function(){return vu(M)},e.svg.area.radial=function(){var e=vu(mu);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},e.svg.chord=function(){function a(n,r){var i=o(this,e,n,r),a=o(this,t,n,r);return"M"+i.p0+u(i.r,i.p1,i.a1-i.a0)+(s(i,a)?l(i.r,i.p1,i.r,i.p0):l(i.r,i.p1,a.r,a.p0)+u(a.r,a.p1,a.a1-a.a0)+l(a.r,a.p1,i.r,i.p0))+"Z"}function o(e,t,a,o){var s=t.call(e,a,o),u=n.call(e,s,o),l=r.call(e,s,o)-Oe,c=i.call(e,s,o)-Oe;return{r:u,a0:l,a1:c,p0:[u*Math.cos(l),u*Math.sin(l)],p1:[u*Math.cos(c),u*Math.sin(c)]}}function s(e,t){return e.a0==t.a0&&e.a1==t.a1}function u(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Ce)+",1 "+t}function l(e,t,n,r){return"Q 0,0 "+r}var e=si,t=ui,n=yu,r=Fs,i=js;return a.radius=function(e){return arguments.length?(n=Tt(e),a):n},a.source=function(t){return arguments.length?(e=Tt(t),a):e},a.target=function(e){return arguments.length?(t=Tt(e),a):t},a.startAngle=function(e){return arguments.length?(r=Tt(e),a):r},a.endAngle=function(e){return arguments.length?(i=Tt(e),a):i},a},e.svg.diagonal=function(){function r(r,i){var a=e.call(this,r,i),o=t.call(this,r,i),s=(a.y+o.y)/2,u=[a,{x:a.x,y:s},{x:o.x,y:s},o];return u=u.map(n),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=si,t=ui,n=_u;return r.source=function(t){return arguments.length?(e=Tt(t),r):e},r.target=function(e){return arguments.length?(t=Tt(e),r):t},r.projection=function(e){return arguments.length?(n=e,r):n},r},e.svg.diagonal.radial=function(){var t=e.svg.diagonal(),n=_u,r=t.projection;return t.projection=function(e){return arguments.length?r(bu(n=e)):n},t},e.svg.symbol=function(){function n(n,r){return(Tu.get(e.call(this,n,r))||wu)(t.call(this,n,r))}var e=xu,t=Eu;return n.type=function(t){return arguments.length?(e=Tt(t),n):e},n.size=function(e){return arguments.length?(t=Tt(e),n):t},n};var Tu=e.map({circle:wu,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Au)),n=t*Au;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Lu),n=t*Lu/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Lu),n=t*Lu/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});e.svg.symbolTypes=Tu.keys();var Lu=Math.sqrt(3),Au=Math.tan(30*Me);Y.transition=function(e){for(var i,a,t=Ou||++Pu,n=Du(e),r=[],o=Mu||{time:Date.now(),ease:Ia,delay:0,duration:250},s=-1,u=this.length;++s<u;){r.push(i=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(a=l[c])&&qu(a,c,n,t,o),i.push(a)}return Cu(r,n,t)},Y.interrupt=function(e){return this.each(null==e?Su:Ru(Du(e)))};var Ou,Mu,Su=Ru(Du()),Nu=[],Pu=0;Nu.call=Y.call,Nu.empty=Y.empty,Nu.node=Y.node,Nu.size=Y.size,e.transition=function(t,n){return t&&t.transition?Ou?t.transition(n):t:e.selection().transition(t)},e.transition.prototype=Nu,Nu.select=function(e){var i,a,o,t=this.id,n=this.namespace,r=[];e=K(e);for(var s=-1,u=this.length;++s<u;){r.push(i=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(o=l[c])&&(a=e.call(o,o.__data__,c,s))?("__data__"in o&&(a.__data__=o.__data__),qu(a,c,n,t,o[n][t]),i.push(a)):i.push(null)}return Cu(r,n,t)},Nu.selectAll=function(e){var i,a,o,s,u,t=this.id,n=this.namespace,r=[];e=X(e);for(var l=-1,c=this.length;++l<c;)for(var f=this[l],h=-1,p=f.length;++h<p;)if(o=f[h]){u=o[n][t],a=e.call(o,o.__data__,h,l),r.push(i=[]);for(var d=-1,g=a.length;++d<g;)(s=a[d])&&qu(s,d,n,t,u),i.push(s)}return Cu(r,n,t)},Nu.filter=function(e){var n,r,i,t=[];"function"!=typeof e&&(e=fe(e));for(var a=0,o=this.length;o>a;a++){t.push(n=[]);for(var r=this[a],s=0,u=r.length;u>s;s++)(i=r[s])&&e.call(i,i.__data__,s,a)&&n.push(i)}return Cu(t,this.namespace,this.id)},Nu.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):pe(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Nu.attr=function(t,n){function a(){this.removeAttribute(i)}function o(){this.removeAttributeNS(i.space,i.local)}function s(e){return null==e?a:(e+="",function(){var n,t=this.getAttribute(i);return t!==e&&(n=r(t,e),function(e){this.setAttribute(i,n(e))})})}function u(e){return null==e?o:(e+="",function(){var n,t=this.getAttributeNS(i.space,i.local);return t!==e&&(n=r(t,e),function(e){this.setAttributeNS(i.space,i.local,n(e))})})}if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var r="transform"==t?ro:La,i=e.ns.qualify(t);return ku(this,"attr."+t,n,i.local?u:s)},Nu.attrTween=function(t,n){function i(e,t){var i=n.call(this,e,t,this.getAttribute(r));return i&&function(e){this.setAttribute(r,i(e))}}function a(e,t){var i=n.call(this,e,t,this.getAttributeNS(r.space,r.local));return i&&function(e){this.setAttributeNS(r.space,r.local,i(e))}}var r=e.ns.qualify(t);return this.tween("attr."+t,r.local?a:i)},Nu.style=function(e,t,n){function i(){this.style.removeProperty(e)}function o(t){return null==t?i:(t+="",function(){var i,r=a(this).getComputedStyle(this,null).getPropertyValue(e);return r!==t&&(i=La(r,t),function(t){this.style.setProperty(e,i(t),n)})})}var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return ku(this,"style."+e,t,o)},Nu.styleTween=function(e,t,n){function r(r,i){var o=t.call(this,r,i,a(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Nu.text=function(e){return ku(this,"text",e,Iu)},Nu.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Nu.ease=function(t){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof t&&(t=e.ease.apply(e,arguments)),pe(this,function(e){e[r][n].ease=t}))},Nu.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:pe(this,"function"==typeof e?function(r,i,a){r[n][t].delay=+e.call(r,r.__data__,i,a)}:(e=+e,function(r){r[n][t].delay=e}))},Nu.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:pe(this,"function"==typeof e?function(r,i,a){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,a))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Nu.each=function(t,n){var r=this.id,i=this.namespace;if(arguments.length<2){var a=Mu,o=Ou;try{Ou=r,pe(this,function(e,n,a){Mu=e[i][r],t.call(e,e.__data__,n,a)})}finally{Mu=a,Ou=o}}else pe(this,function(a){var o=a[i][r];(o.event||(o.event=e.dispatch("start","end","interrupt"))).on(t,n)});return this},Nu.transition=function(){for(var i,a,o,s,e=this.id,t=++Pu,n=this.namespace,r=[],u=0,l=this.length;l>u;u++){r.push(i=[]);for(var a=this[u],c=0,f=a.length;f>c;c++)(o=a[c])&&(s=o[n][e],qu(o,c,n,t,{time:s.time,ease:s.ease,delay:s.delay+s.duration,duration:s.duration})),i.push(o)}return Cu(r,n,t)},e.svg.axis=function(){function c(n){n.each(function(){var _,n=e.select(this),c=this.__chart__||t,f=this.__chart__=t.copy(),h=null==u?f.ticks?f.ticks.apply(f,s):f.domain():u,p=null==l?f.tickFormat?f.tickFormat.apply(f,s):M:l,d=n.selectAll(".tick").data(h,f),g=d.enter().insert("g",".domain").attr("class","tick").style("opacity",Se),m=e.transition(d.exit()).style("opacity",Se).remove(),v=e.transition(d.order()).style("opacity",1),y=Math.max(i,0)+o,b=ss(f),E=n.selectAll(".domain").data([0]),x=(E.enter().append("path").attr("class","domain"),e.transition(E));g.append("line"),g.append("text");var C,N,P,O,w=g.select("line"),T=v.select("line"),L=d.select("text").text(p),A=g.select("text"),S=v.select("text"),R="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(_=Fu,C="x",P="y",N="x2",O="y2",L.attr("dy",0>R?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+b[0]+","+R*a+"V0H"+b[1]+"V"+R*a)):(_=ju,C="y",P="x",N="y2",O="x2",L.attr("dy",".32em").style("text-anchor",0>R?"end":"start"),x.attr("d","M"+R*a+","+b[0]+"H0V"+b[1]+"H"+R*a)),w.attr(O,R*i),A.attr(P,R*y),T.attr(N,0).attr(O,R*i),S.attr(C,0).attr(P,R*y),f.rangeBand){var k=f,I=k.rangeBand()/2;c=f=function(e){return k(e)+I}}else c.rangeBand?c=f:m.call(_,f,c);g.call(_,c,f),v.call(_,f,f)})}var l,t=e.scale.linear(),r=Bu,i=6,a=6,o=3,s=[10],u=null;return c.scale=function(e){return arguments.length?(t=e,c):t},c.orient=function(e){return arguments.length?(r=e in Uu?e+"":Bu,c):r},c.ticks=function(){return arguments.length?(s=n(arguments),c):s},c.tickValues=function(e){return arguments.length?(u=e,c):u},c.tickFormat=function(e){return arguments.length?(l=e,c):l},c.tickSize=function(e){var t=arguments.length;return t?(i=+e,a=+arguments[t-1],c):i},c.innerTickSize=function(e){return arguments.length?(i=+e,c):i},c.outerTickSize=function(e){return arguments.length?(a=+e,c):a},c.tickPadding=function(e){return arguments.length?(o=+e,c):o},c.tickSubdivide=function(){return arguments.length&&c},c};var Bu="bottom",Uu={top:1,right:1,bottom:1,left:1};e.svg.brush=function(){function h(t){t.each(function(){var t=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",m).on("touchstart.brush",m),i=t.selectAll(".background").data([0]);i.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=t.selectAll(".resize").data(f,M);a.exit().remove(),a.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Gu[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",h.empty()?"none":null);var u,o=e.transition(t),s=e.transition(i);n&&(u=ss(n),s.attr("x",u[0]).attr("width",u[1]-u[0]),d(o)),r&&(u=ss(r),s.attr("y",u[0]).attr("height",u[1]-u[0]),g(o)),p(o)})}function p(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+i[+/e$/.test(e)]+","+o[+/^s/.test(e)]+")"})}function d(e){e.select(".extent").attr("x",i[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",i[1]-i[0])}function g(e){e.select(".extent").attr("y",o[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",o[1]-o[0])}function m(){function N(){32==e.event.keyCode&&(x||(T=null,L[0]-=i[1],L[1]-=o[1],x=2),F())}function P(){32==e.event.keyCode&&2==x&&(L[0]+=i[1],L[1]+=o[1],x=0,F())}function O(){var t=e.mouse(f),a=!1;A&&(t[0]+=A[0],t[1]+=A[1]),x||(e.event.altKey?(T||(T=[(i[0]+i[1])/2,(o[0]+o[1])/2]),L[0]=i[+(t[0]<T[0])],L[1]=o[+(t[1]<T[1])]):T=null),b&&M(t,n,0)&&(d(y),a=!0),E&&M(t,r,1)&&(g(y),a=!0),a&&(p(y),v({type:"brush",mode:x?"move":"resize"}))}function M(e,t,n){var g,m,r=ss(t),a=r[0],f=r[1],h=L[n],p=n?o:i,d=p[1]-p[0];return x&&(a-=h,f-=d+h),g=(n?c:l)?Math.max(a,Math.min(f,e[n])):e[n],x?m=(g+=h)+d:(T&&(h=Math.max(a,Math.min(f,2*T[n]-g))),g>h?(m=g,g=h):m=h),p[0]!=g||p[1]!=m?(n?u=null:s=null,p[0]=g,p[1]=m,!0):void 0}function k(){O(),y.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),e.select("body").style("cursor",null),S.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),w(),v({type:"brushend"})}var T,A,f=this,m=e.select(e.event.target),v=t.of(f,arguments),y=e.select(f),_=m.datum(),b=!/^(n|s)$/.test(_)&&n,E=!/^(e|w)$/.test(_)&&r,x=m.classed("extent"),w=we(f),L=e.mouse(f),S=e.select(a(f)).on("keydown.brush",N).on("keyup.brush",P);if(e.event.changedTouches?S.on("touchmove.brush",O).on("touchend.brush",k):S.on("mousemove.brush",O).on("mouseup.brush",k),y.interrupt().selectAll("*").interrupt(),x)L[0]=i[0]-L[0],L[1]=o[0]-L[1];else if(_){var R=+/w$/.test(_),C=+/^n/.test(_);A=[i[1-R]-L[0],o[1-C]-L[1]],L[0]=i[R],L[1]=o[C]}else e.event.altKey&&(T=L.slice());y.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",m.style("cursor")),v({type:"brushstart"}),O()}var s,u,t=G(h,"brushstart","brush","brushend"),n=null,r=null,i=[0,0],o=[0,0],l=!0,c=!0,f=Hu[0];return h.event=function(n){n.each(function(){var n=t.of(this,arguments),r={x:i,y:o,i:s,j:u},a=this.__chart__||r;this.__chart__=r,Ou?e.select(this).transition().each("start.brush",function(){s=a.i,u=a.j,i=a.x,o=a.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=Aa(i,r.x),t=Aa(o,r.y);return s=u=null,function(a){i=r.x=e(a),o=r.y=t(a),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){s=r.i,u=r.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},h.x=function(e){return arguments.length?(n=e,f=Hu[!n<<1|!r],h):n},h.y=function(e){return arguments.length?(r=e,f=Hu[!n<<1|!r],h):r},h.clamp=function(e){return arguments.length?(n&&r?(l=!!e[0],c=!!e[1]):n?l=!!e:r&&(c=!!e),h):n&&r?[l,c]:n?l:r?c:null},h.extent=function(e){var t,a,l,c,f;return arguments.length?(n&&(t=e[0],a=e[1],r&&(t=t[0],a=a[0]),s=[t,a],n.invert&&(t=n(t),a=n(a)),t>a&&(f=t,t=a,a=f),(t!=i[0]||a!=i[1])&&(i=[t,a])),r&&(l=e[0],c=e[1],n&&(l=l[1],c=c[1]),u=[l,c],r.invert&&(l=r(l),c=r(c)),l>c&&(f=l,l=c,c=f),(l!=o[0]||c!=o[1])&&(o=[l,c])),h):(n&&(s?(t=s[0],a=s[1]):(t=i[0],a=i[1],n.invert&&(t=n.invert(t),a=n.invert(a)),t>a&&(f=t,t=a,a=f))),r&&(u?(l=u[0],c=u[1]):(l=o[0],c=o[1],r.invert&&(l=r.invert(l),c=r.invert(c)),l>c&&(f=l,l=c,c=f))),n&&r?[[t,l],[a,c]]:n?[t,a]:r&&[l,c])},h.clear=function(){return h.empty()||(i=[0,0],o=[0,0],s=u=null),h},h.empty=function(){return!!n&&i[0]==i[1]||!!r&&o[0]==o[1]},e.rebind(h,t,"on")};var Gu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Hu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],zu=$t.format=xn.timeFormat,$u=zu.utc,Wu=$u("%Y-%m-%dT%H:%M:%S.%LZ");zu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Vu:Wu,Vu.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Vu.toString=Wu.toString,$t.second=Yt(function(e){return new Wt(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),$t.seconds=$t.second.range,$t.seconds.utc=$t.second.utc.range,$t.minute=Yt(function(e){return new Wt(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),$t.minutes=$t.minute.range,$t.minutes.utc=$t.minute.utc.range,$t.hour=Yt(function(e){var t=e.getTimezoneOffset()/60;return new Wt(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),$t.hours=$t.hour.range,$t.hours.utc=$t.hour.utc.range,$t.month=Yt(function(e){return e=$t.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),$t.months=$t.month.range,$t.months.utc=$t.month.utc.range;var Ku=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Xu=[[$t.second,1],[$t.second,5],[$t.second,15],[$t.second,30],[$t.minute,1],[$t.minute,5],[$t.minute,15],[$t.minute,30],[$t.hour,1],[$t.hour,3],[$t.hour,6],[$t.hour,12],[$t.day,1],[$t.day,2],[$t.week,1],[$t.month,1],[$t.month,3],[$t.year,1]],Qu=zu.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",sr]]),Ju={range:function(t,n,r){return e.range(Math.ceil(t/r)*r,+n,r).map(Yu)},floor:M,ceil:M};Xu.year=$t.year,$t.scale=function(){return Zu(e.scale.linear(),Xu,Qu)};var el=Xu.map(function(e){return[e[0].utc,e[1]]}),tl=$u.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",sr]]);el.year=$t.year.utc,$t.scale.utc=function(){return Zu(e.scale.linear(),el,tl)},e.text=Lt(function(e){return e.responseText}),e.json=function(e,t){return At(e,"application/json",nl,t)},e.html=function(e,t){return At(e,"text/html",rl,t)},e.xml=Lt(function(e){return e.responseXML}),"function"==typeof define&&define.amd?(this.d3=e,define(e)):"object"==typeof module&&module.exports?module.exports=e:this.d3=e}();